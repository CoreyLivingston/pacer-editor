(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},30:function(e,t,a){e.exports=a(79)},35:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},76:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),l=a.n(c),s=(a(35),a(4)),o=a(5),i=a(7),u=a(6),d=a(8),m=(a(37),a(84)),p=a(82),f=a(83),E=a(85),h=(a(39),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content home"},r.a.createElement("h1",null,"Requirements"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"This editor requires a browser that support the ",r.a.createElement("a",{href:"http://webaudio.github.io/web-midi-api/",target:"_blank",rel:"noopener noreferrer"},"Web MIDI API"),"."),r.a.createElement("p",null,"Currently, only ",r.a.createElement("span",{className:"strong"},"Chrome")," and ",r.a.createElement("span",{className:"strong"},"Opera")," support this standard. This application will therefore ",r.a.createElement("span",{className:"italic"},"not")," work in Firefox, Safari, IE or Edge."),r.a.createElement("p",null,"This editor does not work on iPad or Android tablet either."),r.a.createElement("p",null,"Ensure your Pacer is running the ",r.a.createElement("a",{href:"https://nektartech.com/updating-firmware-pacer/",target:"_blank",rel:"noopener noreferrer"},"latest firmware v10112"),".")),r.a.createElement("h1",null,"Limitations"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The current version of this editor isn't able to edit the Global configuration of the Pacer. This is planned for a future release."),r.a.createElement("p",null,"This editor is provided as-is, without warranty of any kind, express or implied. If you encounter a bug, please fill a bug report with ",r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor/issues/new",target:"_blank",rel:"noopener noreferrer"},"this form"),".")),r.a.createElement("h1",null,"Connecting your Pacer"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"1. Make sure your Pacer is connected to your computer and switched-on."),r.a.createElement("p",null,"2. In the application, check the MIDI settings."),r.a.createElement("p",null,"You need to enable the following input and output ports:"),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Mac"),":"),r.a.createElement("img",{src:"ports-mac.png",alt:""}),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Windows"),":"),r.a.createElement("img",{src:"ports-windows.png",alt:""}),r.a.createElement("p",null,"This editor listen on all MIDI ports. A future version may offer the possibility to choose a specific port.")),r.a.createElement("h1",null,"Editing presets"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The preset ",r.a.createElement("span",{className:"strong"},"CUR")," is the ",r.a.createElement("span",{className:"italic fluo"},"current")," preset. When you edit preset ",r.a.createElement("span",{className:"strong"},"CUR")," your changes are immediately applied."),r.a.createElement("p",null,"When you edit any other presets, you edit the ",r.a.createElement("span",{className:"fluo"},"saved")," settings of the preset and your changes will only be applied when you ",r.a.createElement("span",{className:"fluo"},"load")," this preset in the Pacer."),r.a.createElement("p",null,"It is currently not possible to load the preset from this editor."),r.a.createElement("div",null,r.a.createElement("h3",null,"Example 1:"),r.a.createElement("p",null,"The currently loaded preset (CUR) is preset ",r.a.createElement("span",{className:"strong"},"A5"),"."),r.a.createElement("p",null,"You edit the preset ",r.a.createElement("span",{className:"strong"},"A5"),"."),r.a.createElement("p",null,"After you save your modifications, the display will show dots. That means the current preset does not reflect the saved preset anymore. You have to ",r.a.createElement("span",{className:"fluo"},"reload")," the preset to be able to use your updated version:"),r.a.createElement("p",null,"- long-press ",r.a.createElement("span",{className:"strong"},"Preset")," switch, then press switch ",r.a.createElement("span",{className:"strong"},"A"),", then press switch ",r.a.createElement("span",{className:"strong"},"5"),".")),r.a.createElement("div",null,r.a.createElement("h3",null,"Example 1:"),r.a.createElement("p",null,"The currently loaded preset (CUR) is preset ",r.a.createElement("span",{className:"strong"},"A1"),"."),r.a.createElement("p",null,"You edit the preset ",r.a.createElement("span",{className:"strong"},"D3"),"."),r.a.createElement("p",null,"After you save your modifications of preset ",r.a.createElement("span",{className:"strong"},"D3"),", if you want to use it, of course you have to load it:"),r.a.createElement("p",null,"- long-press ",r.a.createElement("span",{className:"strong"},"Preset")," switch, then press switch ",r.a.createElement("span",{className:"strong"},"D"),", then press switch ",r.a.createElement("span",{className:"strong"},"3"),"."))),r.a.createElement("h1",null,"Controls settings"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Each control (buttons 1-6 & A-D, external FS1-FS4 & EXP1-EXP2) can be configured with up to 6 steps."),r.a.createElement("p",null,"At the most basic level, each step has a ",r.a.createElement("span",{className:"italic fluo"},"type")," value that determines the message or action the step will send or execute, as well as 3 data fields that configure the options and parameters for the step depending on the selected type."),r.a.createElement("table",{className:"doc-controls"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("br",null),"Type"),r.a.createElement("th",null,r.a.createElement("br",null),"Description"),r.a.createElement("th",null,"Data 1",r.a.createElement("br",null),"desc."),r.a.createElement("th",null,"Data 1",r.a.createElement("br",null),"values"),r.a.createElement("th",null,"Data 2",r.a.createElement("br",null),"desc."),r.a.createElement("th",null,"Data 2",r.a.createElement("br",null),"values"),r.a.createElement("th",null,"Data 3",r.a.createElement("br",null),"desc."),r.a.createElement("th",null,"Data 3",r.a.createElement("br",null),"values"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"CC Toggle"),r.a.createElement("td",{className:"ctrl-desc"},"Sends a MIDI CC message that toggles between two values each time the button is pressed"),r.a.createElement("td",null,"MIDI CC"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send on Press 1"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send on Press 2"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"CC Trigger"),r.a.createElement("td",{className:"ctrl-desc"},"Sends a MIDI CC message when the button is pressed"),r.a.createElement("td",null,"MIDI CC"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send when pressing down"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send when releasing"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"CC Step"),r.a.createElement("td",{className:"ctrl-desc"}," ??? "),r.a.createElement("td",null,"MIDI CC"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Start value"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"End value"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Note"),r.a.createElement("td",{className:"ctrl-desc"},"Send a note when the button is pressed, stop when released"),r.a.createElement("td",null,"Note"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Velocity"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Note Toggle"),r.a.createElement("td",{className:"ctrl-desc"},"Send a note when the button is pressed, stop when pressed again"),r.a.createElement("td",null,"Note"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Velocity"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Program & Bank"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Program Change message when the button is pressed"),r.a.createElement("td",null,"Program"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Bank LSB"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Bank MSB"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Program Step"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Program Step message ??? "),r.a.createElement("td",null,"Start"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"End"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"NRPN Coarse"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Non-Registered Parameter Number Coarse message"),r.a.createElement("td",null,"Value"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"LSB"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"MSB"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"NRPN Fine"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Non-Registered Parameter Number Fine message"),r.a.createElement("td",null,"Value"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"LSB"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"MSB"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"MIDI Machine Control"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Machine Control message"),r.a.createElement("td",null,"Device ID"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Command"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Relay Outputs"),r.a.createElement("td",{className:"ctrl-desc"},"Action a Pacer Relay"),r.a.createElement("td",null,"Mode"),r.a.createElement("td",null,"N.O.: 1",r.a.createElement("br",null),"N.C.: 2",r.a.createElement("br",null),"Lat.: 3"),r.a.createElement("td",null,"Relay"),r.a.createElement("td",null,"R1: 0",r.a.createElement("br",null),"R2: 1",r.a.createElement("br",null),"R3: 2",r.a.createElement("br",null),"R4: 3"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Preset Select"),r.a.createElement("td",{className:"ctrl-desc"},"Switch to the target Preset"),r.a.createElement("td",null,"Target"),r.a.createElement("td",null,r.a.createElement("span",{className:"no-break"},"(Bank * 6) + Num"),r.a.createElement("br",null),"Bank A=0,",r.a.createElement("br",null),"Bank B=1.."),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Preset Inc/Dec"),r.a.createElement("td",{className:"ctrl-desc"},"Switch to the next/previous Preset"),r.a.createElement("td",null,"Direction"),r.a.createElement("td",null,"Increment: ??",r.a.createElement("br",null),"Decrement: ??"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Step Select"),r.a.createElement("td",{className:"ctrl-desc"},"?? Action a specific Step for a Control"),r.a.createElement("td",null,"Control Target"),r.a.createElement("td",null,"?? A-D,",r.a.createElement("br",null),"1-6,",r.a.createElement("br",null),"FS1-4,",r.a.createElement("br",null),"EXP1-2"),r.a.createElement("td",null,"Step"),r.a.createElement("td",null,"?? 1-6 (0-indexed?)"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Step Inc/Dec"),r.a.createElement("td",{className:"ctrl-desc"},"?? Action the next/prev Step for a Control"),r.a.createElement("td",null,"Control Target"),r.a.createElement("td",null,"?? A-D,",r.a.createElement("br",null),"1-6,",r.a.createElement("br",null),"FS1-4,",r.a.createElement("br",null),"EXP1-2"),r.a.createElement("td",null,"Direction"),r.a.createElement("td",null,"Increment: ??",r.a.createElement("br",null),"Decrement: ??"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"OFF"),r.a.createElement("td",{className:"ctrl-desc"},"Disable the control, do not action nor send anything"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"))))),r.a.createElement("h1",null,"In case of problem"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Try the following:"),r.a.createElement("p",null,"- Check the MIDI configuration."),r.a.createElement("p",null,"- Reload the editor (F5 or Cmd-R or Ctrl-R)"),r.a.createElement("p",null,"- Restart the Pacer."),r.a.createElement("p",null,"- Close any other applications that may be connected to the Pacer."),r.a.createElement("p",null,"If you mess up the configuration of your Pacer, do a ",r.a.createElement("span",{className:"fluo"},"Factory Restore"),". See page 21 of the Pacer User Guide for the procedure.")),r.a.createElement("h1",null,"MIDI in your browser"),r.a.createElement("div",{className:"doc"},r.a.createElement("div",null,r.a.createElement("p",null,"You need to allow your browser to use your MIDI device:"),r.a.createElement("img",{src:"help-01.png",alt:""})),r.a.createElement("div",null,r.a.createElement("p",null,"In case you didn't allow the use of MIDI device and want to change that, you can right-click on the URL icon and change the setting:"),r.a.createElement("img",{src:"help-02.png",alt:""}))),r.a.createElement("h1",null,"FAQ"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,r.a.createElement("i",null,"To be completed..."))),r.a.createElement("h1",null,"Known issues"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,'- The preset D6 can not be read by sending a "read preset" sysex. You have to dump it from the Pacer.'),r.a.createElement("p",null,"- LED configuration is displayed for external footswitch and expression pedals.")),r.a.createElement("h1",null,"Contribute"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"This editor is an Open Source project. You are welcome to contribute."),r.a.createElement("p",null,"The source-code is hosted by GitHub: ",r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"pacer-editor")),r.a.createElement("p",null,"To contribute your bug fixes, new features, etc.: 1) fork the project, 2) create a pull-request.")),r.a.createElement("h1",null,"Thanks"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Thank you to the Nektar support service for having provided precious informations regarding the SysEx data format of the Pacer. This editor would not have been possible without their support.")))}}]),t}(n.Component)),v=a(16),g=a(1),y=a(20),b=function(e){return null===e||void 0===e?"":function(e,t,a){for(var n="",r=a||"0",c=(t||2)-e.length;n.length<c;)n+=r;return n+e}(e.toString(16).toUpperCase(),2)},O=function(e){return null===e||void 0===e?"":Array.from(e).map(function(e){return b(e)}).join(" ")},N=function(e,t){var a=t?e.replace(t,""):e;if(a.length%2>0)return null;if(0===a.length)return null;for(var n=new Uint8Array(a.length/2),r=0;r<a.length/2;r++)n[r]=parseInt(a.substr(2*r,2),16);return n};function C(e){return void 0!==e&&null!==e&&""!==e}function j(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push({key:a,value:e[a]});return t.sort(function(e,t){return e.value.localeCompare(t.value)}),t}var w,x,P,k,S,I,D,M,R,F,B={position:"absolute",top:0,right:0,bottom:0,left:0,paddingTop:"4rem",background:"rgba(0,0,0,0.4)",textAlign:"center",color:"#fff",fontSize:"4rem"},A="Pacer.*",T=[0,1,119],_=[127],L=1,U=2,G=1,H=(w={},Object(g.a)(w,G,"preset"),Object(g.a)(w,5,"global"),Object(g.a)(w,7,"full backup"),w),Z=1,W=13,Y=18,V=20,z=27,J=54,X=55,q=126,K=127,Q=(x={},Object(g.a)(x,Z,"name"),Object(g.a)(x,W,"1"),Object(g.a)(x,14,"2"),Object(g.a)(x,15,"3"),Object(g.a)(x,16,"4"),Object(g.a)(x,17,"5"),Object(g.a)(x,Y,"6"),Object(g.a)(x,19,"RESERVED"),Object(g.a)(x,V,"A"),Object(g.a)(x,21,"B"),Object(g.a)(x,22,"C"),Object(g.a)(x,23,"D"),Object(g.a)(x,24,"FS 1"),Object(g.a)(x,25,"FS 2"),Object(g.a)(x,26,"FS 3"),Object(g.a)(x,z,"FS 4"),Object(g.a)(x,J,"EXP 1"),Object(g.a)(x,X,"EXP 2"),Object(g.a)(x,q,"MIDI configuration"),Object(g.a)(x,K,"ALL"),x),$={1:"Preset Name",13:"Stompswitch 1",14:"Stompswitch 2",15:"Stompswitch 3",16:"Stompswitch 4",17:"Stompswitch 5",18:"Stompswitch 6",19:"RESERVED",20:"Stompswitch A",21:"Stompswitch B",22:"Stompswitch C",23:"Stompswitch D",24:"Footswitch 1",25:"Footswitch 2",26:"Footswitch 3",27:"Footswitch 4",54:"Expression Pedal 1",55:"Expression Pedal 2",126:"MIDI configuration",127:"ALL"},ee=[13,14,15,16,17,18,20,21,22,23],te=[20,21,22,23],ae=[13,14,15,16,17,18],ne=[24,25,26,27],re=[54,55],ce=97,le=(P={},Object(g.a)(P,0,"CC"),Object(g.a)(P,3,"NRPN C"),Object(g.a)(P,4,"NRPN F"),Object(g.a)(P,1,"PITCH"),Object(g.a)(P,2,"AT CHAN"),Object(g.a)(P,126,"DAW FUNC"),Object(g.a)(P,ce,"CTRL_OFF"),Object(g.a)(P,71,"CC TOGGLE"),Object(g.a)(P,64,"CC"),Object(g.a)(P,72,"CC STEP"),Object(g.a)(P,67,"NOTE"),Object(g.a)(P,68,"NOTE TOGGLE"),Object(g.a)(P,69,"PRG BANK"),Object(g.a)(P,70,"PRG STEP"),Object(g.a)(P,87,"NRPN COARSE"),Object(g.a)(P,88,"NRPN FINE"),Object(g.a)(P,85,"MMC"),Object(g.a)(P,89,"RELAY"),Object(g.a)(P,98,"PRESET SELECT"),Object(g.a)(P,86,"PRESET INC DEC"),Object(g.a)(P,99,"STEP SELECT"),Object(g.a)(P,100,"STEP INC DEC"),Object(g.a)(P,18,"CC"),Object(g.a)(P,17,"CC REL"),Object(g.a)(P,21,"NRPN C"),Object(g.a)(P,22,"NRPN F"),Object(g.a)(P,19,"PITCH"),Object(g.a)(P,20,"AT CHAN"),Object(g.a)(P,16,"PRG"),Object(g.a)(P,23,"PRESET SEL"),Object(g.a)(P,24,"STEP SEL"),Object(g.a)(P,101,"CC"),P),se=(k={},Object(g.a)(k,0,"CC"),Object(g.a)(k,3,"NRPN C"),Object(g.a)(k,4,"NRPN F"),Object(g.a)(k,1,"Pitch"),Object(g.a)(k,2,"AT CHAN"),Object(g.a)(k,126,"DAW"),Object(g.a)(k,ce,"Ctrl OFF"),Object(g.a)(k,71,"CC tggl"),Object(g.a)(k,64,"CC"),Object(g.a)(k,72,"CC step"),Object(g.a)(k,67,"Note"),Object(g.a)(k,68,"Note tggl"),Object(g.a)(k,69,"Prg bank"),Object(g.a)(k,70,"Prg step"),Object(g.a)(k,87,"NRPN C"),Object(g.a)(k,88,"NRPN F"),Object(g.a)(k,85,"MMC"),Object(g.a)(k,89,"Relay"),Object(g.a)(k,98,"Preset sel"),Object(g.a)(k,86,"Preset +/-"),Object(g.a)(k,99,"Step sel"),Object(g.a)(k,100,"Step +/-"),Object(g.a)(k,18,"CC"),Object(g.a)(k,17,"CC rel"),Object(g.a)(k,21,"NRPN C"),Object(g.a)(k,22,"NRPN F"),Object(g.a)(k,19,"Pitch"),Object(g.a)(k,20,"AT chan"),Object(g.a)(k,16,"Prg"),Object(g.a)(k,23,"Preset sel"),Object(g.a)(k,24,"Step sel"),Object(g.a)(k,101,"CC"),k),oe=(S={},Object(g.a)(S,ce,"OFF"),Object(g.a)(S,71,"CC Toggle"),Object(g.a)(S,64,"CC Trigger"),Object(g.a)(S,72,"CC Step"),Object(g.a)(S,67,"Note"),Object(g.a)(S,68,"Note Toggle"),Object(g.a)(S,69,"Program & Bank"),Object(g.a)(S,70,"Program Step"),Object(g.a)(S,87,"NRPN Coarse"),Object(g.a)(S,88,"NRPN Fine"),Object(g.a)(S,85,"MIDI Machine Control"),Object(g.a)(S,89,"Relay Outputs"),Object(g.a)(S,98,"Preset Select"),Object(g.a)(S,86,"Preset Inc/Dec"),Object(g.a)(S,99,"Step Select"),Object(g.a)(S,100,"Step Inc/Dec"),S),ie=j(oe),ue=(I={},Object(g.a)(I,18,"CC"),Object(g.a)(I,17,"CC REL"),Object(g.a)(I,21,"NRPN Coarse"),Object(g.a)(I,22,"NRPN Fine"),Object(g.a)(I,19,"Pitch Bend"),Object(g.a)(I,20,"AT Chan."),Object(g.a)(I,16,"Program"),Object(g.a)(I,23,"Preset Sel"),Object(g.a)(I,24,"Step Sel"),j((D={},Object(g.a)(D,101,"Load CC"),Object(g.a)(D,67,"MIDI Note"),Object(g.a)(D,69,"Program & Bank"),Object(g.a)(D,87,"NRPN Coarse"),Object(g.a)(D,88,"NRPN Fine"),Object(g.a)(D,85,"MIDI Machine Control"),Object(g.a)(D,89,"Relay Outputs"),Object(g.a)(D,126,"DAW Func."),Object(g.a)(D,ce,"OFF"),D))),de="not used",me=(M={},Object(g.a)(M,0,["","",""]),Object(g.a)(M,3,["","",""]),Object(g.a)(M,4,["","",""]),Object(g.a)(M,1,["","",""]),Object(g.a)(M,2,["","",""]),Object(g.a)(M,126,["function",de,de]),Object(g.a)(M,ce,["","",""]),Object(g.a)(M,71,["controller","value 1","value 2"]),Object(g.a)(M,64,["controller","down","up"]),Object(g.a)(M,72,["controller","start","end"]),Object(g.a)(M,67,["note","velocity",de]),Object(g.a)(M,68,["note","velocity",de]),Object(g.a)(M,69,["program","bank LSB","bank MSB"]),Object(g.a)(M,70,["start","end",de]),Object(g.a)(M,87,["value","NRPN LSB","NRPN MSB"]),Object(g.a)(M,88,["value","NRPN LSB","NRPN MSB"]),Object(g.a)(M,85,["device","command",de]),Object(g.a)(M,89,["mode","relay #",de]),Object(g.a)(M,98,["preset",de,de]),Object(g.a)(M,86,["inc/dec",de,de]),Object(g.a)(M,99,["target","step",de]),Object(g.a)(M,100,["target","inc/dec",de]),Object(g.a)(M,18,["","",""]),Object(g.a)(M,17,["","",""]),Object(g.a)(M,21,["","",""]),Object(g.a)(M,22,["","",""]),Object(g.a)(M,19,["","",""]),Object(g.a)(M,20,["","",""]),Object(g.a)(M,16,["","",""]),Object(g.a)(M,23,["","",""]),Object(g.a)(M,24,["","",""]),Object(g.a)(M,101,["controller","value",de]),M),pe={0:"Off",1:"1A Pink",2:"1B Dim Pink",3:"2A Red",4:"2B Dim Red",5:"3A Orange",6:"3B Dim Orange",7:"4A Amber",8:"4B Dim Amber",9:"5A Yellow",10:"5B Dim Yellow",11:"6A Lime",12:"6B Dim Lime",13:"7A Green",14:"7B Dim Green",15:"8A Teal",16:"8B Dim Teal",17:"9A Blue",18:"9B Dim Blue",19:"10A Lavender",20:"10B Dim Lavender",21:"11A Purple",22:"11B Dim Purple",23:"12A White",24:"12B Dim White"},fe={0:"#000000",1:"#FFC0CB",2:"rgba(255, 192, 203, 0.5)",3:"#FF0000",4:"rgba(255, 0, 0, 0.5)",5:"#FF8C00",6:"rgba(255, 140, 0, 0.5)",7:"#FFBF00",8:"rgba(255, 191, 0, 0.5)",9:"#FFFF00",10:"rgba(255, 255, 0, 0.5)",11:"#00FF00",12:"rgba(0, 255, 0, 0.5)",13:"#008000",14:"rgba(0, 128, 0, 0.5)",15:"#008080",16:"rgba(0, 128, 128, 0.5)",17:"#0000FF",18:"rgba(0, 0, 255, 0.5)",19:"#E6E6FA",20:"rgba(230, 230, 250, 0.5)",21:"#800080",22:"rgba(128, 0, 128, 0.5)",23:"#FFFFFF",24:"#FFFFFF"},Ee=96,he=(R={},Object(g.a)(R,0,"All"),Object(g.a)(R,2,"External Step Select"),Object(g.a)(R,1,"Sequence"),R),ve=(F={},Object(g.a)(F,0,"All"),Object(g.a)(F,2,"ESS"),Object(g.a)(F,1,"Seq"),F),ge=189,ye=240,be=247,Oe="controls",Ne=4,Ce=5,je=6,we=7,xe=8;function Pe(e){return e&&"object"===typeof e&&!Array.isArray(e)}function ke(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if(!a.length)return e;var r=a.shift();if(Pe(e)&&Pe(r))for(var c in r)Pe(r[c])?(e[c]||Object.assign(e,Object(g.a)({},c,{})),ke(e[c],r[c])):Object.assign(e,Object(g.a)({},c,r[c]));return ke.apply(void 0,[e].concat(a))}function Se(e){return null===e||void 0===e||0===e.length?128:(128-Uint8Array.from(e).reduce(function(e,t){return e+t})%128)%128}function Ie(e){return e[0]===ye&&e[e.byteLength-1]===be}function De(e){var t,a={},n=e[Ne],r=e[Ce],c=e[je],l=e[we];switch(n){case L:case U:break;default:return console.warn("parseSysexMessage: invalid command (".concat(b(n),")")),null}if(!(r in H))return console.warn("parseSysexMessage: invalid target",b(r),r,H),null;if(a[r]={},a[r][c]={},7===e.length)return a;if(!(l in Q))return null;if(l===Z)t="name";else if(l>=W&&l<=Y||l>=V&&l<=z||l>=J&&l<=X)t="control";else if(l===q)t="midi";else{if(l!==K)return console.warn("parseSysexMessage: invalid obj",l),null;t="all"}if("name"===t&&(a[r][c].name=function(e){var t=e[1];return String.fromCharCode.apply(null,e.slice(2,2+t))}(e.slice(xe))),"control"===t)if(a[r][c][Oe]=Object(g.a)({},l,{steps:{}}),e.length>9){var s=e[xe];if(s>=1&&s<=36)if(e.length>xe+22){var o=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]],active:e[22]}}}(e.slice(xe,xe+23));a[r][c][Oe][l].steps[o.index]=o.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),O(e));else if(s===Ee){var i=function(e){return{control_mode:e[2]}}(e.slice(xe,e.length-1));a[r][c][Oe][l]=ke(a[r][c][Oe][l],i)}else if(s>=64&&s<=87){var u=function(e){for(var t,a,n,r={steps:{}},c=0;c<e.length;){var l=e[c];switch(0===c&&(n=""+((l-64)/4+1)),n in r.steps||(r.steps[n]={}),l){case 64:case 68:case 72:case 76:case 80:case 84:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_midi_ctrl=a;break;case 65:case 69:case 73:case 77:case 81:case 85:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_active_color=a;break;case 66:case 70:case 74:case 78:case 82:case 86:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_inactive_color=a;break;case 67:case 71:case 75:case 79:case 83:case 87:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_num=a;break;case 127:c=e.length;break;default:c++}}return r}(e.slice(xe,e.length-1));a[r][c][Oe][l]=ke(a[r][c][Oe][l],u)}else if(127!==s)return console.warn("parseSysexMessage: unknown element: ".concat(b(s))),null}else a[r][c][Oe]=Object(g.a)({},l,{});if("midi"===t){a[r][c].midi={};var d=e[xe];if(!(d>=1&&d<=96))return console.warn("parseSysexMessage: unknown element: ".concat(b(d))),null;if(e.length>xe+19){var m=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]]}}}(e.slice(xe,xe+20));a[r][c].midi[m.index]=m.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),O(e))}return"all"===t&&(a[r][c].all={}),a}function Me(e){if(null===e)return null;for(var t={},a=0;!((a=e.indexOf(ye,a))<0);){a++;var n=e.indexOf(be,a),r=Array.from(e.slice(a,a+3)).map(function(e){return b(e)}).join(" ");if(r!==y.NEKTAR_TECHNOLOGY_INC)return console.log("parseSysexDump: file does not contain a Nektar Pacer patch",a,n,r,"-",O(e)),null;if(127!==e[a+3])return console.warn("parseSysexDump: invalid byte after manufacturer id: ".concat(e[a+1+3])),null;var c=De(e.slice(a,n));c&&ke(t,c)}return t}function Re(){var e=[U,G,K],t=Se(e);return e.push(t),_.concat(e)}function Fe(e){var t=[U,G,e,K],a=Se(t);return t.push(a),_.concat(t)}function Be(e,t){var a=[U,G,e,t],n=Se(a);return a.push(n),_.concat(a)}function Ae(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(v.a)(function(e,t,a){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&!a.control_mode_changed)return[];var n=[L,G,e,t,Ee,1,a.control_mode];return n.push(Se(n)),[_.concat(n)]}(e,t,a[G][e][Oe][t],n)).concat(Object(v.a)(function(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],c=Object.keys(a),l=0;l<c.length;l++){var s=c[l],o=a[s];if(n||o.changed){var i=[L,G,e,t];i.push(6*(s-1)+1,1,o.channel,0),i.push(6*(s-1)+2,1,o.msg_type,0),i.push(6*(s-1)+3,1,o.data[0],0),i.push(6*(s-1)+4,1,o.data[1],0),i.push(6*(s-1)+5,1,o.data[2],0),i.push(6*(s-1)+6,1,o.active),i.push(Se(i)),r.push(_.concat(i))}}return r}(e,t,a[G][e][Oe][t].steps,n)),Object(v.a)(function(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],c=Object.keys(a),l=0;l<c.length;l++){var s=c[l],o=a[s];if(n||o.led_changed){var i=[L,G,e,t];i.push(4*(s-1)+64,1,o.led_midi_ctrl,0),i.push(4*(s-1)+65,1,o.led_active_color,0),i.push(4*(s-1)+66,1,o.led_inactive_color,0),i.push(4*(s-1)+67,1,o.led_num),i.push(Se(i)),r.push(_.concat(i))}}return r}(e,t,a[G][e][Oe][t].steps,n)))}function Te(e,t){return function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],r=Object.keys(t),c=0;c<r.length;c++){var l=r[c],s=t[l];if(s.changed||a){var o=[L,G,e,q];o.push(6*(l-1)+1,1,s.channel,0),o.push(6*(l-1)+2,1,s.msg_type,0),o.push(6*(l-1)+3,1,s.data[0],0),o.push(6*(l-1)+4,1,s.data[1],0),o.push(6*(l-1)+5,1,s.data[2],0),o.push(6*(l-1)+6,1,s.active),o.push(Se(o)),n.push(_.concat(o))}}return n}(e,t[G][e].midi)}var _e=a(10),Le=a.n(_e);function Ue(e){var t=Le.a.inputs.find(function(t){return t.id===e});return t||Le.a.outputs.find(function(t){return t.id===e})}function Ge(e){return Le.a.inputs.find(function(t){return t.id===e})}function He(e){return Le.a.outputs.find(function(t){return t.id===e})}a(41);var Ze=a(3),We=(a(23),a(13)),Ye=function(e){var t=parseInt(e);if(0===t)return"CUR";var a=Math.floor((t-1)/6),n=(t-1)%6+1;return String.fromCharCode(a+65)+n.toString()},Ve=function(e){var t=e.settings;return null===t||void 0===t?null:r.a.createElement("div",{className:"dump-control"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,className:"name"},"MIDI settings")),Object.keys(t).map(function(e){var a=le[t[e].msg_type];return 67===t[e].msg_type&&(a=a+" "+We.a(t[e].data[0],!0)+" vel. "+t[e].data[1]),r.a.createElement("tr",{key:e},r.a.createElement("td",null,"settings ",e),r.a.createElement("td",null,"ch. ",b(t[e].channel)),r.a.createElement("td",null,"msg ",b(t[e].msg_type)),r.a.createElement("td",null,a),r.a.createElement("td",null,O(t[e].data)),r.a.createElement("td",null,t[e].active?"active":"OFF"))}))))},ze=function(e){var t=e.settings;return null===t?null:r.a.createElement("div",null,r.a.createElement(Ve,{settings:t}))},Je=function(e){var t=e.obj,a=e.config;return null===a||void 0===a?null:r.a.createElement("div",{className:"dump-control"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:10,className:"name"},$[t])),r.a.createElement("tr",null,r.a.createElement("th",null,"step"),r.a.createElement("th",null,"ch."),r.a.createElement("th",null,"type"),r.a.createElement("th",null,"data"),r.a.createElement("th",null,"decoded"),r.a.createElement("th",null,"active"),r.a.createElement("th",null,"LED num"),r.a.createElement("th",null,"LED On"),r.a.createElement("th",null,"LED Off"),r.a.createElement("th",null,"LED midi")),Object.keys(a.steps).map(function(e){var n=le[a.steps[e].msg_type];67===a.steps[e].msg_type&&(n=n+" "+We.a(a.steps[e].data[0],!0)+" vel. "+a.steps[e].data[1]);var c=a.steps[e].led_inactive_color,l=a.steps[e].led_active_color;return r.a.createElement("tr",{key:"".concat(t,".").concat(e)},r.a.createElement("td",null,e),r.a.createElement("td",null,b(a.steps[e].channel)),r.a.createElement("td",null,b(a.steps[e].msg_type)),r.a.createElement("td",null,O(a.steps[e].data)),r.a.createElement("td",null,n),r.a.createElement("td",null,a.steps[e].active?"active":"OFF"),r.a.createElement("td",null,b(a.steps[e].led_num)),r.a.createElement("td",null,l in pe?pe[l]:b(l)),r.a.createElement("td",null,c in pe?pe[c]:b(c)),r.a.createElement("td",null,b(a.steps[e].led_midi_ctrl)))}),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:10},"control mode: ",he[a.control_mode])))))},Xe=function(e){var t=e.controls;return null===t||void 0===t?null:r.a.createElement("div",{className:"dump-controls"},Object.keys(t).map(function(e){return r.a.createElement(Je,{key:e,obj:e,config:t[e]})}))},qe=function(e){var t=e.index,a=e.data;return null===a||void 0===a?null:r.a.createElement("div",null,r.a.createElement("h3",null,"Preset ",Ye(parseInt(t,10))," (#",t,"): ",a.name),r.a.createElement(Xe,{controls:a.controls}),r.a.createElement(ze,{settings:a.midi}))},Ke=function(e){var t=e.presets;return null===t||void 0===t?null:r.a.createElement("div",null,Object.keys(t).map(function(e){return r.a.createElement(qe,{key:e,index:e,data:t[e]})}))},Qe=function(e){var t=e.data;return r.a.createElement("div",{className:"dump code"},t&&r.a.createElement(Ke,{presets:t[G]}))},$e=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={inputs:[],outputs:[],input:null,output:null,pacerPresent:!1},a.connectInput=function(e){a.props.onMidiInputEvent&&e&&(e.hasListener(a.props.messageType,"all",a.props.onMidiInputEvent)?console.warn("Midi.connectInput: sysex messages on all channels listener already connected"):(console.log("Midi.connectInput: add listener for sysex messages on all channels"),e.addListener(a.props.messageType,"all",a.props.onMidiInputEvent),a.props.onInputConnection&&a.props.onInputConnection(e.id),console.log("connectInput: ",e.name)))},a.disconnectInput=function(e){e&&(e.removeListener&&e.removeListener(),console.log("disconnectInput: input ".concat(e.id," disconnected")),a.props.onInputDisconnection&&a.props.onInputDisconnection(e.id))},a.connectOutput=function(e){e&&(a.setState({output:e.id}),console.log("connectOutput: output ".concat(e.id," connected")),a.props.onOutputConnection&&a.props.onOutputConnection(e.id))},a.disconnectOutput=function(){if(a.state.output){var e=a.state.output;a.setState(Object(Ze.a)(function(e){e.pacerOutputConnected=!1,e.output=null})),console.log("disconnectOutput: output ".concat(e," disconnected")),a.props.onOutputDisconnection&&a.props.onOutputDisconnection(e)}},a.autoConnectInput=function(){if(a.props.autoConnect)if(console.log("Midi.autoConnectInput: autoConnect ".concat(a.props.autoConnect),a.state.inputs),null===a.state.input){var e=!0,t=!1,n=void 0;try{for(var r,c=a.state.inputs[Symbol.iterator]();!(e=(r=c.next()).done);e=!0){var l=r.value;if(console.log("Midi.autoConnectInput: port ".concat(l.name," ").concat(l.id)),"input"===l.type&&null!=l.name.match(new RegExp(a.props.autoConnect,"i"))){console.log("Midi.autoConnectInput: connect ".concat(l.name)),a.setState({input:l.id}),a.connectInput(l);break}}}catch(s){t=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(t)throw n}}}else console.log("Midi.autoConnectInput: autoConnect skipped, already connected")},a.autoConnectOutput=function(){if(a.props.autoConnect)if(console.log("Midi.autoConnectOutput: autoConnect ".concat(a.props.autoConnect)),null===a.state.output){var e=!0,t=!1,n=void 0;try{for(var r,c=a.state.outputs[Symbol.iterator]();!(e=(r=c.next()).done);e=!0){var l=r.value;if(console.log("Midi.autoConnectOutput: port ".concat(l.name," ").concat(l.id)),"output"===l.type&&null!=l.name.match(new RegExp(a.props.autoConnect,"i"))){console.log("Midi.autoConnectOutput: autoConnect: auto-connect ".concat(l.name)),a.connectOutput(l);break}}}catch(s){t=!0,n=s}finally{try{e||null==c.return||c.return()}finally{if(t)throw n}}}else console.log("Midi.autoConnectOutput: autoConnect skipped, already connected")},a.registerInputs=function(){var e=new RegExp(a.props.only,"i"),t=new RegExp(A,"i");a.setState({inputs:_e.inputs.filter(function(t){return null!=t.name.match(e)}),pacerPresent:_e.inputs.findIndex(function(e){return null!=e.name.match(t)})>=0},function(){return a.autoConnectInput()})},a.registerOutputs=function(){var e=new RegExp(a.props.only,"i");a.setState({outputs:_e.outputs.filter(function(t){return null!=t.name.match(e)})},function(){return a.autoConnectOutput()})},a.unRegisterInputs=function(){console.log("Midi.unRegisterInputs"),a.disconnectInput(Ue(a.state.input)),a.setState({inputs:[],input:null,pacerPresent:!1})},a.unRegisterOutputs=function(){console.log("Midi.unRegisterOutputs"),a.disconnectOutput(),a.setState({outputs:[],output:null})},a.handleMidiConnectEvent=function(e){console.group("Midi: handleMidiConnectEvent: ".concat(e.port.type," ").concat(e.type,": ").concat(e.port.name),e),"disconnected"===e.type&&(a.disconnectInput(e.port.id),a.disconnectOutput()),e.port.name.match(new RegExp(a.props.only,"i"))?("input"===e.port.type&&(console.log("Midi.handleMidiConnectEvent: call registerInputs"),a.registerInputs()),"output"===e.port.type&&(console.log("Midi.handleMidiConnectEvent: call registerOutputs"),a.registerOutputs())):console.log("Midi.handleMidiConnectEvent: port ignored: ".concat(e.port.name)),console.groupEnd()},a.togglePort=function(e){if("input"===Ue(e).type){console.log("toggle input",e);var t=a.state.input;a.state.input&&a.disconnectInput(Ue(a.state.input)),e!==t&&a.connectInput(Ge(e)),a.setState({input:e===t?null:e})}else{console.log("toggle output",e);var n=a.state.output;a.state.output&&a.disconnectOutput(),e!==n&&a.connectOutput(Ue(e))}},a.midiOn=function(e){e?console.warn("Midi.midiOn: WebMidi could not be enabled.",e):(console.log("Midi.midiOn: WebMidi enabled"),_e.addListener("connected",a.handleMidiConnectEvent),_e.addListener("disconnected",a.handleMidiConnectEvent))},a.portsGrouped=function(){var e={},t=!0,n=!1,r=void 0;try{for(var c,l=_e.inputs[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var s=c.value;e[s.name]={input:{id:s.id,selected:s.id===a.state.input},output:null}}}catch(f){n=!0,r=f}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}var o=!0,i=!1,u=void 0;try{for(var d,m=_e.outputs[Symbol.iterator]();!(o=(d=m.next()).done);o=!0){var p=d.value;p.name in e||(e[p.name]={input:null,output:null}),e[p.name].output={id:p.id,selected:p.id===a.state.output}}}catch(f){i=!0,u=f}finally{try{o||null==m.return||m.return()}finally{if(i)throw u}}return e},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("Midi: component did mount: WebMidi.enabled=".concat(_e.enabled)),_e.enabled?(console.log("Midi: component did mount: already enabled, register ports"),this.registerInputs(),this.registerOutputs()):(console.log("Midi: component did mount: Calling WebMidi.enable"),_e.enable(this.midiOn,!0))}},{key:"componentWillUnmount",value:function(){console.log("Midi: component will unmount: unregister ports"),this.unRegisterInputs(),this.unRegisterOutputs()}},{key:"render",value:function(){var e=this.state.pacerPresent;return r.a.createElement(n.Fragment,null,this.props.portsRenderer(this.portsGrouped(),this.togglePort),!e&&r.a.createElement(n.Fragment,null,this.props.children))}}]),t}(n.Component);$e.defaultProps={classname:"",only:".*",messageType:"midimessage"};var et=a(21),tt=a.n(et),at=function(e){var t=e.groupedPorts,a=e.clickHandler;return r.a.createElement("div",{className:"ports-grid"},Object.keys(t).map(function(e,c){return r.a.createElement("div",{className:"port",key:c},r.a.createElement("div",{className:"port-name"},e),t[e].input&&r.a.createElement("div",{className:"port-switch"},r.a.createElement(n.Fragment,null,"in\xa0",r.a.createElement(tt.a,{onChange:function(){return a(t[e].input.id)},checked:t[e].input.selected,className:"react-switch",id:"switch-".concat(t[e].input.id),height:16,width:36}))),t[e].output&&r.a.createElement("div",{className:"port-switch"},r.a.createElement(n.Fragment,null,"out\xa0",r.a.createElement(tt.a,{onChange:function(){return a(t[e].output.id)},checked:t[e].output.selected,className:"react-switch",id:"switch-".concat(t[e].output.id),height:16,width:36}))))}))},nt={128:"Note Off",144:"Note On",160:"AfterTouch",176:"Control Change",192:"Program Change",208:"Channel Pressure",224:"Pitch Wheel"},rt={0:"Bank Select (coarse)",1:"Modulation Wheel (coarse)",2:"Breath controller (coarse)",4:"Foot Pedal (coarse)",5:"Portamento Time (coarse)",6:"Data Entry (coarse)",7:"Volume (coarse)",8:"Balance (coarse)",10:"Pan position (coarse)",11:"Expression (coarse)",12:"Effect Control 1 (coarse)",13:"Effect Control 2 (coarse)",16:"General Purpose Slider 1",17:"General Purpose Slider 2",18:"General Purpose Slider 3",19:"General Purpose Slider 4",32:"Bank Select (fine)",33:"Modulation Wheel (fine)",34:"Breath controller (fine)",36:"Foot Pedal (fine)",37:"Portamento Time (fine)",38:"Data Entry (fine)",39:"Volume (fine)",40:"Balance (fine)",42:"Pan position (fine)",43:"Expression (fine)",44:"Effect Control 1 (fine)",45:"Effect Control 2 (fine)",64:"Hold Pedal (on/off)",65:"Portamento (on/off)",66:"Sustenuto Pedal (on/off)",67:"Soft Pedal (on/off)",68:"Legato Pedal (on/off)",69:"Hold 2 Pedal (on/off)",70:"Sound Variation",71:"Sound Timbre",72:"Sound Release Time",73:"Sound Attack Time",74:"Sound Brightness",75:"Sound Control 6",76:"Sound Control 7",77:"Sound Control 8",78:"Sound Control 9",79:"Sound Control 10",80:"General Purpose Button 1 (on/off)",81:"General Purpose Button 2 (on/off)",82:"General Purpose Button 3 (on/off)",83:"General Purpose Button 4 (on/off)",91:"Effects Level",92:"Tremulo Level",93:"Chorus Level",94:"Celeste Level",95:"Phaser Level",96:"Data Button increment",97:"Data Button decrement",98:"Non-registered Parameter (fine)",99:"Non-registered Parameter (coarse)",100:"Registered Parameter (fine)",101:"Registered Parameter (coarse)",120:"All Sound Off",121:"All Controllers Off",122:"Local Keyboard (on/off)",123:"All Notes Off",124:"Omni Mode Off",125:"Omni Mode On",126:"Mono Operation",127:"Poly Operation"},ct=function(e){var t=Ue(e);return!!t&&t.name.match(new RegExp("Pacer.*","i"))},lt=function(e,t,a){var n,r=[];return function(){clearTimeout(n);var c=arguments[0];c.data[0]===ye?(r.push(c.data),t(r.length),n=setTimeout(function(){n=null,e(r),r=[]},a)):console.log("non sysex message ignored")}};function st(e,t){return"number"===typeof t?"0x"+b(t):t}function ot(e){return null===e?null:[ye].concat(Object(v.a)(T),Object(v.a)(e),[be])}var it=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={output:null,data:null,messages:[{name:"read current preset",message:Fe(0),bytesExpected:189},{name:"read preset A1",message:Fe(1),bytesExpected:189},{name:"read stompswitch #1 of preset #5",message:Be(5,13),bytesExpected:7},{name:"read all presets (takes some time)",message:Re(),bytesExpected:4536}],customMessage:""},a.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),n=void 0===t?null:t,r=e.bytesExpected,c=void 0===r?-1:r,l=e.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return a.props.onBusy({busy:!1})},2e4),a.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},a.handleMidiInputEvent=lt(function(e){console.log("total bytes received = ".concat(e.length)),a.setState(Object(Ze.a)(function(t){var a=!0,n=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value;Ie(s)?t.data=ke(t.data||{},Me(s)):console.log("MIDI message is not a sysex message")}}catch(o){n=!0,r=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}})),a.props.onBusy({busy:!1})},function(e){a.props.onBusy({busy:!0,bytesReceived:e})},1e3),a.onOutputConnection=function(e){console.log("onOutputConnection"),a.setState(Object(Ze.a)(function(t){t.output=e}))},a.onOutputDisconnection=function(e){console.log("onOutputDisconnection"),a.setState(Object(Ze.a)(function(e){e.output=null}))},a.sendSysex=function(e){if(a.state.output){var t=He(a.state.output);t?(a.showBusy(),a.setState({data:null},function(){return t.sendSysex(T,e)})):console.warn("send: output ".concat(a.state.output," not found"))}else console.warn("no output enabled to send the message")},a.updateCustomMessage=function(e){var t=(e.target.value.toUpperCase().match(/[0-9A-F ]+/g)||[]).join("");a.setState({customMessage:t})},a.getCustomMessageData=function(){if(a.state.customMessage&&""!==a.state.customMessage){var e=N(a.state.customMessage,/ /g);if(e){var t=Array.from(e);if(t&&t.length>0)return t.push(Se(t)),[_].concat(Object(v.a)(e))}}return null},a.sendCustomMessage=function(){var e=a.getCustomMessageData();e&&e.length>0&&(a.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:-1}),a.sendSysex(e))},a.sendMessage=function(e){a.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:e.bytesExpected}),a.sendSysex(e.message)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=this,t=this.state,a=t.data,n=t.messages,c=t.customMessage,l=Se(N(c,/ /g)),s="",o=(c.toUpperCase().match(/[0-9A-F]+/g)||[]).join(""),i=0;i<o.length;i++)i>0&&i%2===0&&(s+=" "),s+=o[i];var u=ot(this.getCustomMessageData())?JSON.stringify(Me(Uint8Array.from(ot(this.getCustomMessageData()))),st,4):"";return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement($e,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(at,{groupedPorts:e,clickHandler:t})},onMidiInputEvent:this.handleMidiInputEvent,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Test messages:"),r.a.createElement("div",{className:"content-row-content-content"},n.map(function(t,a){return r.a.createElement("div",{key:a,className:"send-message"},r.a.createElement("button",{onClick:function(){return e.sendMessage(t)}},"send"),r.a.createElement("span",{className:"code light"},O(T.concat(t.message.slice(0,1)))," "),r.a.createElement("span",{className:"code"},O(t.message.slice(1,-1))," "),r.a.createElement("span",{className:"code light"}," ",O(t.message.slice(-1))),r.a.createElement("span",{className:"message-name"}," ",t.name))}))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Custom message:"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"send-message"},r.a.createElement("button",{onClick:this.sendCustomMessage,disabled:o.length%2!==0},"send"),r.a.createElement("span",{className:"code light"},O(T)," ",O(_)," "),r.a.createElement("input",{type:"text",className:"code",size:"80",value:c,placeholder:"hex digits only",onChange:this.updateCustomMessage}),r.a.createElement("span",{className:"code light"}," ",b(l))),r.a.createElement("div",{className:"custom-message code"},r.a.createElement("span",{className:"code light"},O(T)," ",O(_))," ",s," ",r.a.createElement("span",{className:"code light"},b(l))),r.a.createElement("div",{className:"debug"},u?r.a.createElement("pre",null,u):r.a.createElement("div",null,"Invalid message. Send at your own risk.")))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Response:"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"message code"},r.a.createElement(Qe,{data:a})))),r.a.createElement("div",{className:"content-row-content"})))}}]),t}(n.Component),ut=a(9),dt=a.n(ut),mt=a(11),pt=(a(48),a(50),function(e){var t=e.id,a=e.index,n=e.hasData,c=e.name,l=e.selected,s=e.onClick,o="selector";return l&&(o+=" selected"),!l&&n&&(o+=" loaded"),r.a.createElement("div",{className:o,onClick:function(){return s(a)}},r.a.createElement("span",{className:"preset-id"},t)," ",r.a.createElement("span",{className:"preset-name"},c))}),ft=function(e){var t=e.data,a=e.currentPreset,c=e.onClick;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"preset-selectors"},r.a.createElement(pt,{id:"CUR",index:0,name:"",selected:0===a,onClick:c,key:0}),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),["A","B","C","D"].map(function(e){return r.a.createElement(n.Fragment,{key:e},Array.from(Array(6).keys()).map(function(n){var l,s=e+(n+1),o=6*((l=s).charCodeAt(0)-65)+parseInt(l[1],10),i=t&&t[G]&&t[G][o],u=i?t[G][o].name:"";return r.a.createElement(pt,{id:s,index:o,hasData:i,name:u,selected:o===a,onClick:c,key:o})}))})))},Et=(a(52),function(e){var t=e.name,a=e.id,n=e.selected,c=e.onClick;return r.a.createElement("div",{className:n?"selector selected":"selector loaded",onClick:function(){return c(a)}},r.a.createElement("div",{className:"name"},t))}),ht=function(e){var t=e.currentControl,a=e.onClick;return r.a.createElement("div",{className:"controls"},ne.map(function(e){return r.a.createElement(Et,{key:e,name:Q[e],id:e,selected:e===t,onClick:a})}),re.map(function(e){return r.a.createElement(Et,{key:e,name:Q[e],id:e,selected:e===t,onClick:a})}),r.a.createElement("div",{className:"no-control"},"\xa0"),te.map(function(e){return r.a.createElement(Et,{key:e,name:Q[e],id:e,selected:e===t,onClick:a})}),r.a.createElement("div",{className:"no-control"},"\xa0"),ae.map(function(e){return r.a.createElement(Et,{key:e,name:Q[e],id:e,selected:e===t,onClick:a})}))},vt=(a(54),function(e){var t=e.current_value,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},r.a.createElement("option",{value:"0"},"0"),r.a.createElement("option",{value:"1"},"1"))}),gt=function(e){var t=e.current_value,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},Object.keys(pe).map(function(e){return r.a.createElement("option",{key:e,value:e},pe[e])}))},yt=function(e){var t=e.current_value,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},r.a.createElement("option",{value:"0"},"default"),r.a.createElement("option",{value:"3"},"top"),r.a.createElement("option",{value:"2"},"middle"),r.a.createElement("option",{value:"1"},"bottom"))},bt=function(e){var t=e.note,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)},className:"notes"},Array.from(Array(127).keys()).map(function(e){var t=We.a(e,!0);return r.a.createElement("option",{key:e,value:e},t," (",e,")")}))},Ot=function(e){var t,a,c,l=e.index,s=e.config,o=e.updateCallback;return s.msg_type===ce?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"step-row-header"},"Step ",l,":"),r.a.createElement("div",null,r.a.createElement("select",{value:s.msg_type,onChange:function(e){return o("msg_type",null,e.target.value)}},Object.keys(oe).map(function(e){return r.a.createElement("option",{key:e,value:e},oe[e])}))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):(67===s.msg_type||68===s.msg_type?(t=r.a.createElement(bt,{note:s.data[0],onChange:function(e){return o("data",0,e)}}),a=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return o("data",1,e.target.value)}}),c=""):(t=r.a.createElement("input",{type:"text",value:s.data[0],onChange:function(e){return o("data",0,e.target.value)}}),a=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return o("data",1,e.target.value)}}),c=r.a.createElement("input",{type:"text",value:s.data[2],onChange:function(e){return o("data",2,e.target.value)}})),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"step-row-header"},"Step ",l,":"),r.a.createElement("div",null,r.a.createElement("select",{value:s.msg_type,onChange:function(e){return o("msg_type",null,e.target.value)}},ie.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null,t,r.a.createElement("div",{className:"data-help"},me[s.msg_type]?me[s.msg_type][0]:"")),r.a.createElement("div",null,a,r.a.createElement("div",{className:"data-help"},me[s.msg_type]?me[s.msg_type][1]:"")),r.a.createElement("div",null,c,r.a.createElement("div",{className:"data-help"},me[s.msg_type]?me[s.msg_type][2]:"")),r.a.createElement("div",null,r.a.createElement("select",{value:s.channel,onChange:function(e){return o("channel",null,e.target.value)}},Array.from(Array(16).keys()).map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",null,r.a.createElement(gt,{current_value:s.led_inactive_color,onChange:function(e){return o("led_inactive_color",null,e)}})),r.a.createElement("div",null,r.a.createElement(gt,{current_value:s.led_active_color,onChange:function(e){return o("led_active_color",null,e)}})),r.a.createElement("div",null,r.a.createElement(yt,{current_value:s.led_num,onChange:function(e){return o("led_num",null,e)}})),r.a.createElement("div",null,r.a.createElement(vt,{current_value:s.led_midi_ctrl,onChange:function(e){return o("led_midi_ctrl",null,e)}}))))},Nt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onStepUpdate=function(e,t,n,r){a.props.onUpdate(e,t,n,r)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.steps;return r.a.createElement("div",{className:"steps"},r.a.createElement("div",null),r.a.createElement("div",{className:"step-col-header"},"Type"),r.a.createElement("div",{className:"step-col-header"},"Data 1"),r.a.createElement("div",{className:"step-col-header"},"Data 2"),r.a.createElement("div",{className:"step-col-header"},"Data 3"),r.a.createElement("div",{className:"step-col-header"},"MIDI Ch."),r.a.createElement("div",{className:"step-col-header"},"LED Off"),r.a.createElement("div",{className:"step-col-header"},"LED On"),r.a.createElement("div",{className:"step-col-header"},"LED Num"),r.a.createElement("div",{className:"step-col-header"},"LED MIDI"),Object.keys(t).map(function(a){return r.a.createElement(Ot,{key:a,index:a,config:t[a],updateCallback:function(t,n,r){return e.onStepUpdate(a,t,n,r)}})}))}}]),t}(n.Component),Ct=a(14),jt=(a(24),a(59),function(e){return r.a.createElement("div",{className:"control-mode"},r.a.createElement("span",{className:"step-row-header"},"Control mode:"),r.a.createElement("select",{onChange:function(t){return e.onUpdate(t.target.value)},value:e.mode},Object.keys(he).map(function(e){return r.a.createElement("option",{key:e,value:e},he[e])})))}),wt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onNameUpdate=function(e){a.props.onUpdate(e.target.value.length>5?e.target.value.substr(0,5):e.target.value)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.name;return r.a.createElement("div",{className:"preset-name"},r.a.createElement("p",null,"The preset name is limited to 5 characters."),r.a.createElement("span",{className:"strong"},"Name:")," ",r.a.createElement("input",{value:e,onChange:this.onNameUpdate,size:8}))}}]),t}(n.Component),xt=function(e,t){return void 0===t.name||null===t.name?null:t.name.length>5?(console.warn("Presets.updateName: name too long: ".concat(t.name)),null):Object(Ze.a)(e,function(e){e.data[G][e.presetIndex].name=t.name,e.data[G][e.presetIndex].changed=!0,e.changed=!0,e.updateMessages.hasOwnProperty(e.presetIndex)||(e.updateMessages[e.presetIndex]={}),e.updateMessages[e.presetIndex].hasOwnProperty("name")||(e.updateMessages[e.presetIndex].name={}),e.updateMessages[e.presetIndex].name.dummy=function(e,t){var a=[L,G,e,Z,0],n=t[G][e].name;a.push(n.length);for(var r=0;r<n.length;r++)a.push(n.charCodeAt(r));return a.push(Se(a)),[_.concat(a)]}(e.presetIndex,e.data)})},Pt=function(e){var t=e.messages;return r.a.createElement("div",{className:"message-to-send"},Object.getOwnPropertyNames(t).map(function(e,a){return Object.getOwnPropertyNames(t[e]).map(function(a,n){return Object.getOwnPropertyNames(t[e][a]).map(function(n,c){return function(e,t,a){switch(e){case"controls":return r.a.createElement("div",null,"update control ",$[t]);case"midi":return r.a.createElement("div",null,"update midi");case"name":return r.a.createElement("div",null,"update name");default:return null}}(a,n,t[e][a][n])})})}))};Object(Ze.b)(!1);var kt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).clearData=function(){a.setState({data:null,updateMessages:{},changed:!1})},a.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),n=void 0===t?null:t,r=e.bytesExpected,c=void 0===r?-1:r,l=e.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return a.props.onBusy({busy:!1})},2e4),a.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},a.handleMidiInputEvent=lt(function(e){a.setState(Object(Ze.a)(function(t){var a=!0,n=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value;Ie(s)?t.data=ke(t.data||{},Me(s)):console.log("MIDI message is not a sysex message",O(s))}}catch(o){n=!0,r=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}})),a.props.onBusy({busy:!1})},function(e){a.props.onBusy({busy:!0,bytesReceived:e})},1e3),a.onChangeFile=function(e){var t=e.target.files[0];a.readFiles([t])},a.onInputFile=function(e){a.inputOpenFileRef.current.click()},a.onDragEnter=function(){a.setState({dropZoneActive:!0})},a.onDragLeave=function(){a.setState({dropZoneActive:!1})},a.onDrop=function(e){a.setState({data:null,changed:!1,dropZoneActive:!1},function(){a.readFiles(e)})},a.selectPreset=function(e){var t=a.state.data;t&&t[G]&&t[G][e]?a.setState(Object(Ze.a)(function(t){t.presetIndex=e})):a.setState(Object(Ze.a)(function(t){t.presetIndex=e}),function(){ct(a.state.output)&&C(e)&&a.readPacer(Fe(e),ge)})},a.selectControl=function(e){C(a.state.presetIndex)&&e&&a.setState({controlId:e})},a.updatePresetName=function(e){a.setState(xt(a.state,{name:e}))},a.updateControlStep=function(e,t,n,r,c){var l=parseInt(c,10);a.setState(Object(Ze.a)(function(a){"data"===n?a.data[G][a.presetIndex][Oe][e].steps[t].data[r]=l:a.data[G][a.presetIndex][Oe][e].steps[t][n]=l,"msg_type"===n&&(a.data[G][a.presetIndex][Oe][e].steps[t].active=l===ce?0:1),n.startsWith("led_")?a.data[G][a.presetIndex][Oe][e].steps[t].led_changed=!0:a.data[G][a.presetIndex][Oe][e].steps[t].changed=!0,a.changed=!0,a.updateMessages.hasOwnProperty(a.presetIndex)||(a.updateMessages[a.presetIndex]={}),a.updateMessages[a.presetIndex].hasOwnProperty(Oe)||(a.updateMessages[a.presetIndex][Oe]={}),a.updateMessages[a.presetIndex][Oe][e]=Ae(a.presetIndex,e,a.data)}))},a.updateControlMode=function(e,t){var n=parseInt(t,10);a.setState(Object(Ze.a)(function(t){t.data[G][t.presetIndex][Oe][e].control_mode=n,t.data[G][t.presetIndex][Oe][e].control_mode_changed=!0,t.changed=!0,t.updateMessages.hasOwnProperty(t.presetIndex)||(t.updateMessages[t.presetIndex]={}),t.updateMessages[t.presetIndex].hasOwnProperty(Oe)||(t.updateMessages[t.presetIndex][Oe]={}),t.updateMessages[t.presetIndex][Oe][e]=Ae(t.presetIndex,e,t.data)}))},a.copyPresetFrom=function(e,t){var n=a.state,r=n.data,c=n.updateMessages;r&&r[G][e]&&(r[G][t]||(r[G][t]={}),r[G][t].changed=!0,c.hasOwnProperty(t)||(c[t]={}),c[t].hasOwnProperty(Oe)||(c[t][Oe]={}),ee.forEach(function(a){r[G][t][Oe][a]=JSON.parse(JSON.stringify(r[G][e][Oe][a])),c[t][Oe][a]=Ae(t,a,r,!0)}),a.setState({data:r,updateMessages:c,changed:!0}))},a.onInputConnection=function(e){},a.onInputDisconnection=function(e){},a.onOutputConnection=function(e){a.setState(Object(Ze.a)(function(t){t.output=e}))},a.onOutputDisconnection=function(e){a.setState(Object(Ze.a)(function(e){e.output=null}))},a.sendSysex=function(e){if(a.state.output){var t=He(a.state.output);t?t.sendSysex(T,e):console.warn("send: output ".concat(a.state.output," not found"))}else console.warn("no output enabled to send the message")},a.readPacer=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"reading Pacer...";a.showBusy({busy:!0,busyMessage:n,bytesReceived:0,bytesExpected:t}),a.sendSysex(e)},a.updatePacer=function(e){a.showBusy({busy:!0,busyMessage:"write Preset..."}),Object.getOwnPropertyNames(e).forEach(function(t){Object.getOwnPropertyNames(e[t]).forEach(function(n){Object.getOwnPropertyNames(e[t][n]).forEach(function(r){e[t][n][r].forEach(function(e){a.sendSysex(e)})})})}),setTimeout(function(){a.setState({changed:!1,updateMessages:{}},function(){return a.readPacer(Fe(a.state.presetIndex),ge,"read updated preset")})},1e3)},a.inputOpenFileRef=r.a.createRef(),a.state={output:null,presetIndex:null,controlId:null,changed:!1,updateMessages:{},data:null,dropZoneActive:!1,copyPresetFrom:"-1"},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"readFiles",value:function(){var e=Object(mt.a)(dt.a.mark(function e(t){var a=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(mt.a)(dt.a.mark(function e(t){var n;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=4;break}console.warn("readFiles: ".concat(t.name,": file too big, ").concat(t.size)),e.next=12;break;case 4:return a.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=8,new Response(t).arrayBuffer();case 8:e.t1=e.sent,Ie(n=new e.t0(e.t1))?a.setState(Object(Ze.a)(function(e){e.data=Me(n),1===Object.keys(e.data[G]).length&&(e.presetIndex=parseInt(Object.keys(e.data[G])[0],10))})):console.log("readFiles: not a sysfile",O(n.slice(0,5))),a.props.onBusy({busy:!1});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.output,c=t.presetIndex,l=t.controlId,s=t.data,o=t.changed,i=t.updateMessages,u=t.dropZoneActive,d=!1;return s&&(d=G in s&&c in s[G]&&Oe in s[G][c]&&l in s[G][c][Oe]&&"steps"in s[G][c][Oe][l]&&6===Object.keys(s[G][c][Oe][l].steps).length),r.a.createElement(Ct.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},u&&r.a.createElement("div",{style:B},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement($e,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(at,{groupedPorts:e,clickHandler:t})},messageType:"sysex",onMidiInputEvent:this.handleMidiInputEvent,onInputConnection:this.onInputConnection,onInputDisconnection:this.onInputDisconnection,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"You can click on a preset to only load this specific preset from the Pacer."),r.a.createElement("div",{className:"instruction"},"Or you can use the ad-hoc button to read ALL the presets from the Pacer."),r.a.createElement("div",{className:"instruction"},"You can also load a patch file or send a dump from the Pacer.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Preset:"),r.a.createElement("div",{className:"selectors"},r.a.createElement(ft,{data:s,currentPreset:c,onClick:this.selectPreset})),r.a.createElement("div",{className:"preset-buttons"},a&&r.a.createElement("button",{onClick:function(){return e.readPacer(Re(),4536)}},"Read all presets from Pacer"),r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{onClick:this.onInputFile},"Load preset(s) from file"),s&&r.a.createElement("button",{onClick:this.clearData},"CLEAR")),s&&s[G][c]&&r.a.createElement(wt,{name:s[G][c].name,onUpdate:function(t){return e.updatePresetName(t)}})),r.a.createElement("div",{className:"content-row-content"},r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Controls"),C(c)&&r.a.createElement(ht,{currentControl:l,onClick:this.selectControl}),s&&c in s[G]&&Object.keys(s[G]).length>1&&r.a.createElement(n.Fragment,null,"(experimental) ",r.a.createElement("button",{onClick:function(){return e.copyPresetFrom(e.state.copyPresetFrom,c)}},"copy")," from preset ",r.a.createElement("select",{value:this.state.copyPresetFrom,onChange:function(t){return e.setState({copyPresetFrom:t.target.value})}},r.a.createElement("option",{value:""},"-"),Object.keys(s[G]).map(function(e,t){return s[G][e]?r.a.createElement("option",{key:t,value:e},Ye(e)," ",s[G][e].name):null}))," ",r.a.createElement("span",{className:"small"},"(copy the configuration for the footswitches A..D and 1..6 only)")),d&&r.a.createElement(n.Fragment,null,r.a.createElement(Nt,{controlId:l,steps:s[G][c][Oe][l].steps,onUpdate:function(t,a,n,r){return e.updateControlStep(l,t,a,n,r)}}),r.a.createElement(jt,{controlId:l,mode:s[G][c][Oe][l].control_mode,onUpdate:function(t){return e.updateControlMode(l,t)}})),!C(c)&&r.a.createElement("div",{className:"please"},"Please first select a preset."))),o&&ct(a)&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Send the updated config to the Pacer:"),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"update",onClick:function(){return e.updatePacer(i)}},"Update Pacer")))),this.props.debug&&o&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("div",{className:"debug"},r.a.createElement("h4",null,"[Debug] Update messages to send:"),r.a.createElement(Pt,{messages:i}),r.a.createElement("div",{className:"dump code"}))))))}}]),t}(n.Component),St=a(29),It=(a(61),40),Dt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={messages:[]},a.handleMidiInputEvent=function(e){a.setState(Object(Ze.a)(function(t){t.messages.unshift(e.data)>It&&t.messages.pop()}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement($e,{only:".*",autoConnect:".*",portsRenderer:function(e,t){return r.a.createElement(at,{groupedPorts:e,clickHandler:t})},onMidiInputEvent:this.handleMidiInputEvent},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer or any other MIDI device to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",null,r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"The messages are displayed in reverse chronological order (the most recent on top). Only the last 40 messages are displayed.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"MIDI messages"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"messages"},this.state.messages.map(function(e,t){var a=Object(St.a)(e),n="",c="";switch(a.messageCode){case 128:case 144:n=We.a(a.key),c="velocity: ".concat(a.velocity);break;case 160:break;case 176:n=rt[a.controlNumber],c=a.controlValue;break;case 192:n="program: ".concat(a.program),c="";break;case 208:break;case 224:n="bend: ".concat(a.pitchBend),c="multiplier: ".concat(a.pitchBendMultiplier)}return r.a.createElement("div",{key:t},r.a.createElement("span",{className:"code"},"[",O(e),"]"),r.a.createElement("span",{className:"msg-channel"},"Channel ",a.channel),r.a.createElement("span",{className:"msg-name"},nt[a.messageCode]),r.a.createElement("span",{className:"msg-data"},n),r.a.createElement("span",{className:"msg-data"},c))})))))))}}]),t}(n.Component),Mt=(a(63),function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"gh"},r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"Source code available on GitHub")),r.a.createElement("div",null,r.a.createElement("p",null,"This web site is not endorsed by, directly affiliated with, maintained, or sponsored by Nektar Technology. This web site is published under ",r.a.createElement("a",{href:"https://www.gnu.org/licenses/gpl-3.0.en.html",target:"_blank",rel:"noopener noreferrer"},"GNU General Public License v3"),".")))}),Rt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"doc",style:{marginTop:"16px"}},"Sorry, this feature is not implemented yet."))}}]),t}(n.Component),Ft=(a(65),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:null},a.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),n=void 0===t?null:t,r=e.bytesExpected,c=void 0===r?-1:r,l=e.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return a.props.onBusy({busy:!1})},2e4),a.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},a.hideBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e<1?a.props.onBusy({busy:!1}):setTimeout(function(){return a.props.onBusy({busy:!1})},e)},a.onDragEnter=function(){a.setState({dropZoneActive:!0})},a.onDragLeave=function(){a.setState({dropZoneActive:!1})},a.onDrop=function(e){a.setState({dropZoneActive:!1},function(){a.readFiles(e)})},a.handleMidiInputEvent=function(e){Ie(e.data)?a.setState(Object(Ze.a)(function(t){t.data=ke(t.data||{},Me(e.data))})):console.log("MIDI message is not a sysex message")},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"readFiles",value:function(){var e=Object(mt.a)(dt.a.mark(function e(t){var a=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(mt.a)(dt.a.mark(function e(t){var n;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>5242880)){e.next=5;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),a.hideBusy(),e.next=13;break;case 5:return a.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=9,new Response(t).arrayBuffer();case 9:e.t1=e.sent,Ie(n=new e.t0(e.t1))?a.setState(Object(Ze.a)(function(e){e.data=ke(e.data||{},Me(n))})):console.log("readFiles: not a sysfile",O(n.slice(0,5))),a.hideBusy();case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,a=e.dropZoneActive;return r.a.createElement(Ct.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},a&&r.a.createElement("div",{style:B},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement($e,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(at,{groupedPorts:e,clickHandler:t})},messageType:"sysex",onMidiInputEvent:this.handleMidiInputEvent},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"Send a dump from your Pacer or",r.a.createElement("br",null),"drag & drop a patch file here.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement(Qe,{data:t})))))}}]),t}(n.Component)),Bt=(a(67),function(e){var t=e.note,a=e.onChange;return r.a.createElement("select",{onChange:function(e){return a(e.target.value)},value:t},Array.from(Array(127).keys()).map(function(e){var t=We.a(e,!0);return r.a.createElement("option",{key:e,value:e},t)}))}),At=function(e){var t,a,c,l=e.index,s=e.config,o=e.updateCallback;return s.msg_type===ce?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"setting-row-header"},"message ",l,":"),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return o("msg_type",null,e.target.value)},value:s.msg_type},ue.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):(67===s.msg_type?(t=r.a.createElement(Bt,{note:s.data[0],onChange:function(e){return o("data",0,e)}}),a=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return o("data",1,e.target.value)}}),c=""):(t=r.a.createElement("input",{type:"text",value:s.data[0],onChange:function(e){return o("data",0,e.target.value)}}),a=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return o("data",1,e.target.value)}}),c=r.a.createElement("input",{type:"text",value:s.data[2],onChange:function(e){return o("data",2,e.target.value)}})),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"setting-row-header"},"Setting ",l,":"),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return o("msg_type",null,e.target.value)},value:s.msg_type},ue.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null,t,r.a.createElement("div",{className:"data-help"},me[s.msg_type][0])),r.a.createElement("div",null,a,r.a.createElement("div",{className:"data-help"},me[s.msg_type][1])),r.a.createElement("div",null,c,r.a.createElement("div",{className:"data-help"},me[s.msg_type][2])),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return o("channel",null,e.target.value)},value:s.channel},Array.from(Array(16).keys()).map(function(e){return r.a.createElement("option",{key:e,value:e},e)})))))},Tt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onSettingUpdate=function(e,t,n,r){a.props.onUpdate(e,t,n,r)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.settings;return r.a.createElement("div",{className:"settings"},r.a.createElement("div",null),r.a.createElement("div",{className:"setting-col-header"},"Type"),r.a.createElement("div",{className:"setting-col-header"},"Data 1"),r.a.createElement("div",{className:"setting-col-header"},"Data 2"),r.a.createElement("div",{className:"setting-col-header"},"Data 3"),r.a.createElement("div",{className:"setting-col-header"},"MIDI Ch."),Object.keys(t).map(function(a){return r.a.createElement(At,{key:a,index:a,config:t[a],updateCallback:function(t,n,r){return e.onSettingUpdate(a,t,n,r)}})}))}}]),t}(n.Component),_t=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).clearData=function(){a.setState({data:null,updateMessages:{},changed:!1})},a.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),n=void 0===t?null:t,r=e.bytesExpected,c=void 0===r?-1:r,l=e.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return a.props.onBusy({busy:!1})},2e4),a.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},a.handleMidiInputEvent=lt(function(e){a.setState(Object(Ze.a)(function(t){var a=!0,n=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value;Ie(s)?t.data=ke(t.data||{},Me(s)):console.log("MIDI message is not a sysex message")}}catch(o){n=!0,r=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}})),a.props.onBusy({busy:!1})},function(e){a.props.onBusy({busy:!0,bytesReceived:e})},1e3),a.onChangeFile=function(e){var t=e.target.files[0];a.readFiles([t])},a.onInputFile=function(e){a.inputOpenFileRef.current.click()},a.onDragEnter=function(){a.setState({dropZoneActive:!0})},a.onDragLeave=function(){a.setState({dropZoneActive:!1})},a.onDrop=function(e){a.setState({data:null,changed:!1,dropZoneActive:!1},function(){a.readFiles(e)})},a.selectPreset=function(e){var t=a.state.data;t&&t[G]&&t[G][e]?a.setState(Object(Ze.a)(function(t){t.presetIndex=e})):a.setState(Object(Ze.a)(function(t){t.presetIndex=e}),function(){ct(a.state.output)&&C(e)&&a.readPacer(Fe(e),ge)})},a.updateMidiSettings=function(e,t,n,r){var c=parseInt(r,10);a.setState(Object(Ze.a)(function(a){"data"===t?a.data[G][a.presetIndex].midi[e].data[n]=c:a.data[G][a.presetIndex].midi[e][t]=c,"msg_type"===t&&(a.data[G][a.presetIndex].midi[e].active=c===ce?0:1),a.data[G][a.presetIndex].midi[e].changed=!0,a.changed=!0,a.updateMessages.hasOwnProperty(a.presetIndex)||(a.updateMessages[a.presetIndex]={}),a.updateMessages[a.presetIndex].hasOwnProperty("midi")||(a.updateMessages[a.presetIndex].midi={}),a.updateMessages[a.presetIndex].midi.dummy=Te(a.presetIndex,a.data)}))},a.updatePresetName=function(e){a.setState(xt(a.state,{name:e}))},a.onInputConnection=function(e){},a.onInputDisconnection=function(e){},a.onOutputConnection=function(e){a.setState(Object(Ze.a)(function(t){t.output=e}))},a.onOutputDisconnection=function(e){a.setState(Object(Ze.a)(function(e){e.output=null}))},a.sendSysex=function(e){if(a.state.output){var t=He(a.state.output);t?t.sendSysex(T,e):console.warn("send: output ".concat(a.state.output," not found"))}else console.warn("no output enabled to send the message")},a.readPacer=function(e,t){a.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:t}),a.sendSysex(e)},a.updatePacer=function(e){a.showBusy({busy:!0,busyMessage:"write Preset..."}),Object.getOwnPropertyNames(e).forEach(function(t){Object.getOwnPropertyNames(e[t]).forEach(function(n){Object.getOwnPropertyNames(e[t][n]).forEach(function(r){e[t][n][r].forEach(function(e){a.sendSysex(e)})})})}),setTimeout(function(){a.setState({changed:!1,updateMessages:{}},function(){return a.readPacer(Fe(a.state.presetIndex),ge,"read updated preset")})},1e3)},a.inputOpenFileRef=r.a.createRef(),a.state={output:null,presetIndex:null,changed:!1,updateMessages:{},data:null},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"readFiles",value:function(){var e=Object(mt.a)(dt.a.mark(function e(t){var a=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(mt.a)(dt.a.mark(function e(t){var n;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=4;break}console.warn("readFiles: ".concat(t.name,": file too big, ").concat(t.size)),e.next=12;break;case 4:return a.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=8,new Response(t).arrayBuffer();case 8:e.t1=e.sent,Ie(n=new e.t0(e.t1))?a.setState(Object(Ze.a)(function(e){e.data=Me(n),1===Object.keys(e.data[G]).length&&(e.presetIndex=parseInt(Object.keys(e.data[G])[0],10))})):console.log("readFiles: not a sysfile",O(n.slice(0,5))),a.props.onBusy({busy:!1});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.output,c=t.presetIndex,l=t.data,s=t.changed,o=t.updateMessages,i=t.dropZoneActive,u=!1;return l&&(u=G in l&&c in l[G]&&"midi"in l[G][c]&&16===Object.keys(l[G][c].midi).length),r.a.createElement(Ct.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},i&&r.a.createElement("div",{style:B},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement($e,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(at,{groupedPorts:e,clickHandler:t})},messageType:"sysex",onMidiInputEvent:this.handleMidiInputEvent,onInputConnection:this.onInputConnection,onInputDisconnection:this.onInputDisconnection,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"You can click on a preset to only load this specific preset from the Pacer."),r.a.createElement("div",{className:"instruction"},"Or you can use the ad-hoc button to read ALL the presets from the Pacer."),r.a.createElement("div",{className:"instruction"},"You can also load a patch file or send a dump from the Pacer.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Preset:"),r.a.createElement("div",{className:"selectors"},r.a.createElement(ft,{data:l,currentPreset:c,onClick:this.selectPreset})),r.a.createElement("div",{className:"preset-buttons"},a&&r.a.createElement("button",{onClick:function(){return e.readPacer(Re(),4536)}},"Read all presets from Pacer"),r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{onClick:this.onInputFile},"Load preset(s) from file"),l&&r.a.createElement("button",{onClick:this.clearData},"CLEAR")),l&&l[G][c]&&r.a.createElement(wt,{name:l[G][c].name,onUpdate:function(t){return e.updatePresetName(t)}})),u&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Preset MIDI settings:"),r.a.createElement(Tt,{settings:l[G][c].midi,onUpdate:function(t,a,n,r){return e.updateMidiSettings(t,a,n,r)}}))),s&&ct(a)&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Send the updated config to the Pacer:"),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"update",onClick:function(){return e.updatePacer(o)}},"Update Pacer")))),this.props.debug&&u&&r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("div",{className:"debug"},r.a.createElement("h4",null,"[Debug] Update messages to send:"),r.a.createElement(Pt,{messages:o}))))))}}]),t}(n.Component),Lt=a(17),Ut=(a(25),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=window.URL.createObjectURL(new Blob([a.props.data],{type:"application/octet-stream"})),n=a.props.filename;if(a.props.addTimestamp){var r=new Date;n+="."+(r.getUTCFullYear()+"-"+("0"+(r.getUTCMonth()+1)).slice(-2)+"-"+("0"+r.getUTCDate()).slice(-2)+"-"+("0"+r.getUTCHours()).slice(-2)+("0"+r.getUTCMinutes()).slice(-2)+("0"+r.getUTCSeconds()).slice(-2))}var c=document.createElement("a");c.download=n+".syx",c.style.display="none",c.href=t,document.body.appendChild(c),c.click(),document.body.removeChild(c),setTimeout(function(){return window.URL.revokeObjectURL(t)},1e3)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick,className:this.props.className},this.props.label)}}]),t}(n.Component)),Gt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a.props.data)),n=a.props.filename;if(a.props.addTimestamp){var r=new Date;n+="."+(r.getUTCFullYear()+"-"+("0"+(r.getUTCMonth()+1)).slice(-2)+"-"+("0"+r.getUTCDate()).slice(-2)+"-"+("0"+r.getUTCHours()).slice(-2)+("0"+r.getUTCMinutes()).slice(-2)+("0"+r.getUTCSeconds()).slice(-2))}var c=document.createElement("a");c.download=n+".json",c.style.display="none",c.href=t,document.body.appendChild(c),c.click(),document.body.removeChild(c),setTimeout(function(){return window.URL.revokeObjectURL(t)},1e3)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick,className:this.props.className},this.props.label)}}]),t}(n.Component),Ht=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).clearData=function(){a.setState({data:null,updateMessages:{},changed:!1})},a.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),n=void 0===t?null:t,r=e.bytesExpected,c=void 0===r?-1:r,l=e.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return a.props.onBusy({busy:!1})},2e4),a.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},a.hideBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e<1?a.props.onBusy({busy:!1}):setTimeout(function(){return a.props.onBusy({busy:!1})},e)},a.handleMidiInputEvent=lt(function(e){var t=e.reduce(function(e,t){return e+t.length},0);a.setState(Object(Ze.a)(function(a){var n=new Uint8Array(t),r=0,c=!0,l=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(c=(o=i.next()).done);c=!0){var u=o.value;n.set(u,r),r+=u.length,Ie(u)?a.data=ke(a.data||{},Me(u)):console.log("MIDI message is not a sysex message")}}catch(m){l=!0,s=m}finally{try{c||null==i.return||i.return()}finally{if(l)throw s}}if(null===a.bytes)a.bytes=n;else{var d=new Uint8Array(a.bytes.length+n.length);d.set(a.bytes),d.set(n,a.bytes.length),a.bytes=d}})),a.hideBusy()},function(e){a.props.onBusy({busy:!0,bytesReceived:e})},1e3),a.onChangeFile=function(e){var t=e.target.files[0];a.readFiles([t])},a.onInputFile=function(e){a.inputOpenFileRef.current.click()},a.onDragEnter=function(){a.setState({dropZoneActive:!0})},a.onDragLeave=function(){a.setState({dropZoneActive:!1})},a.onDrop=function(e){a.setState({dropZoneActive:!1},function(){a.readFiles(e)})},a.onOutputConnection=function(e){a.setState(Object(Ze.a)(function(t){t.output=e}))},a.onOutputDisconnection=function(e){a.setState(Object(Ze.a)(function(e){e.output=null}))},a.sendSysex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(a.state.output){var n=He(a.state.output);n?(t>0&&a.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:t}),a.setState({data:null,bytes:null},function(){return n.sendSysex(T,e)})):console.warn("send: output ".concat(a.state.output," not found"))}else console.warn("no output enabled to send the message")},a.sendPatch=function(){if(a.state.output){var e=He(a.state.output);e?(a.showBusy({busy:!0,busyMessage:"sending patch..."}),function(e,t){if(null===e)return[];for(var a=[],n=0;!((n=e.indexOf(ye,n))<0);){n++;var r=e.indexOf(be,n),c=Array.from(e.slice(n,n+3)).map(function(e){return b(e)}).join(" ");if(c!==y.NEKTAR_TECHNOLOGY_INC)return console.log("parseSysexDump: dump does not contain a Nektar Pacer patch",n,r,c,"-",O(e)),null;if(127!==e[n+3])return console.warn("parseSysexDump: invalid byte after manufacturer id: ".concat(e[n+1+3])),null;a.push(e.slice(n+3,r))}return a}(Array.from(a.state.bytes)).forEach(function(t){e.sendSysex(T,t)}),a.hideBusy(1e3)):console.warn("send: output ".concat(a.state.output," not found"))}else console.warn("no output enabled to send the message")},a.inputOpenFileRef=r.a.createRef(),a.state={output:null,data:null,bytes:null,dropZoneActive:!1,status:null},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"readFiles",value:function(){var e=Object(mt.a)(dt.a.mark(function e(t){var a=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(mt.a)(dt.a.mark(function e(t){var n;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=6;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),a.setState(Object(Ze.a)(function(e){e.status={severity:"error",message:"The file ".concat(t.name," is too big.")}})),a.hideBusy(),e.next=14;break;case 6:return a.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=10,new Response(t).arrayBuffer();case 10:e.t1=e.sent,Ie(n=new e.t0(e.t1))?a.setState(Object(Ze.a)(function(e){if(null===e.bytes)e.bytes=n;else{var a=new Uint8Array(e.bytes.length+n.length);a.set(e.bytes),a.set(n,e.bytes.length),e.bytes=a}e.data=ke(e.data||{},Me(n)),e.status={severity:"info",message:"Patch file loaded: ".concat(t.name)}})):a.setState(Object(Ze.a)(function(e){e.status={severity:"error",message:"The file ".concat(t.name," does not contain a patch (is not a binary sysex file)")}})),a.hideBusy();case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.status,n=t.bytes,c=t.data,l=t.output,s=t.dropZoneActive,o=Lt.parse(window.location.search),i=!!o.debug&&"1"===o.debug;return r.a.createElement(Ct.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},s&&r.a.createElement("div",{style:B},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement($e,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(at,{groupedPorts:e,clickHandler:t})},onMidiInputEvent:this.handleMidiInputEvent,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection,className:""},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},'Presets marked "no data" are ignored. They will NOT erase the preset config in your Pacer.'),r.a.createElement("div",{className:"instruction"},"A patch is a full dump of the Pacer.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Patch content:"),r.a.createElement("div",{className:"patch-content"},Array.from(Array(25).keys()).map(function(e){var t=Ye(e),a=c&&c[G]&&c[G][e],n=a?c[G][e].name:"";return 0===e?null:r.a.createElement("div",{key:e},r.a.createElement("div",null,t),a?r.a.createElement("div",null,n):r.a.createElement("div",{className:"placeholder"},"no data"))})),a&&r.a.createElement("div",{className:"status ".concat(a.severity)},a.message),r.a.createElement("div",{className:"patch-actions"},r.a.createElement("div",null,r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{onClick:this.onInputFile},"Load patch from file")),r.a.createElement("div",null,ct(l)&&"or"),r.a.createElement("div",null,ct(l)&&r.a.createElement("button",{onClick:function(){return e.sendSysex(Re(),4536)}},"Read patch from Pacer")),r.a.createElement("div",null,c&&r.a.createElement(Ut,{data:n,filename:"pacer-patch",addTimestamp:!0,label:"Save patch to file"}),c&&i&&r.a.createElement(Gt,{data:c,filename:"pacer-patch",addTimestamp:!0,label:"Save patch JSON to file",className:"space-left"})),r.a.createElement("div",null,c&&ct(l)&&"or"),r.a.createElement("div",null,c&&ct(l)&&r.a.createElement("button",{onClick:function(){return e.sendPatch()}},"Send patch to Pacer"))),c&&r.a.createElement("div",{className:"preset-buttons"},r.a.createElement("button",{onClick:this.clearData},"CLEAR"))))))}}]),t}(n.Component);var Zt=function(e){var t=e.message,a=e.hexDisplay;if(null===t||void 0===t)return null;for(var c=t.msg_type,l=me[c],s=t.data,o=[null,null,null],i=0;i<3;i++)l[i]!==de&&(o[i]=a?b(s[i]):s[i],0===i&&67===c&&(o[i]+=" ("+We.a(s[i],!0)+")"));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"overview-message"},se[c],r.a.createElement("span",null,o[0]),r.a.createElement("span",null,o[1]),r.a.createElement("span",null,o[2])),r.a.createElement("div",{className:"msg-midi-channel"},"ch. ",a?b(t.channel):t.channel))},Wt=function(e){var t=e.step,a=e.hexDisplay;if(null===t||void 0===t)return null;if(0===t.active)return null;var c=null,l=null;t.led_active_color&&t.led_inactive_color&&(c=127===t.led_active_color?0:t.led_active_color,l=127===t.led_inactive_color?0:t.led_inactive_color);var s=c>0&&l>0;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"overview-step"},r.a.createElement(Zt,{message:t,hexDisplay:a})),s&&r.a.createElement("div",{className:"overview-step-color"},r.a.createElement("div",{className:"color-on",style:{backgroundColor:fe[c]},title:pe[c]}),r.a.createElement("div",{className:"color-off",style:{backgroundColor:fe[l]},title:pe[l]})))},Yt=function(e){var t=e.id,a=e.control,n=e.hexDisplay;return null===a||void 0===a?null:r.a.createElement("div",null,r.a.createElement("div",{className:"control-header"},r.a.createElement("div",{className:"control-name"},Q[t]),r.a.createElement("div",null,r.a.createElement("span",{className:"dim"},"steps:")," ",ve[a.control_mode])),Object.keys(a.steps).map(function(e){return r.a.createElement(Wt,{key:e,step:a.steps[e],hexDisplay:n})}))},Vt=function(e){var t=e.controls,a=e.hexDisplay,n=e.extControls;return null===t||void 0===t?null:r.a.createElement("div",{className:"overview-controls"},n&&ne.map(function(e){return r.a.createElement(Yt,{key:e,id:e,control:t[e],hexDisplay:a})}),n&&re.map(function(e){return r.a.createElement(Yt,{key:e,id:e,control:t[e],hexDisplay:a})}),te.map(function(e){return r.a.createElement(Yt,{key:e,id:e,control:t[e],hexDisplay:a})}),r.a.createElement("div",null),r.a.createElement("div",null),ae.map(function(e){return r.a.createElement(Yt,{key:e,id:e,control:t[e],hexDisplay:a})}))},zt=function(e){var t=e.setting,a=e.hexDisplay;return null===t||void 0===t?null:t.msg_type?t.msg_type===ce?null:r.a.createElement("div",{className:"overview-midi"},r.a.createElement(Zt,{message:t,hexDisplay:a})):null},Jt=function(e){var t=e.settings,a=e.hexDisplay;return console.log("MidiSettings",t),null===t||void 0===t?null:r.a.createElement("div",{className:"overview-midi-settings"},r.a.createElement("div",{className:"control-name"},"MIDI"),Object.keys(t).map(function(e){return r.a.createElement(zt,{key:e,index:e,setting:t[e],hexDisplay:a})}))},Xt=function(e){var t=e.index,a=e.data,n=e.hexDisplay,c=e.extControls;return null===a||void 0===a?null:r.a.createElement("div",{className:"overview-preset"},r.a.createElement("h3",null,"Preset ",Ye(parseInt(t,10))," (#",t,"): ",r.a.createElement("span",{className:"bold"},a.name)),r.a.createElement(Vt,{controls:a.controls,hexDisplay:n,extControls:c}),function(e){if(e&&e.midi)for(var t in e.midi){var a=e.midi[t];if(a.hasOwnProperty("msg_type")&&a.msg_type!==ce)return!0}return!1}(a)&&r.a.createElement(Jt,{settings:a.midi,hexDisplay:n}))},qt=function(e){var t=e.presets,a=e.hexDisplay,n=e.extControls;return null===t||void 0===t?null:r.a.createElement("div",{className:"overview-presets"},Object.keys(t).map(function(e){return r.a.createElement(Xt,{key:e,index:e,data:t[e],hexDisplay:a,extControls:n})}))},Kt=function(e){var t=e.data,a=e.hexDisplay,n=e.extControls;return null===t||void 0===t?null:r.a.createElement("div",{className:"overview"},r.a.createElement(qt,{presets:t[G],hexDisplay:a,extControls:n}))},Qt=(a(76),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggleBase=function(e){var t=!a.state.decBase;a.setState({decBase:t})},a.toggleExtControls=function(e){var t=!a.state.extControls;a.setState({extControls:t})},a.clearData=function(){a.setState({data:null})},a.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),n=void 0===t?null:t,r=e.bytesExpected,c=void 0===r?-1:r,l=e.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return a.props.onBusy({busy:!1})},2e4),a.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},a.hideBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e<1?a.props.onBusy({busy:!1}):setTimeout(function(){return a.props.onBusy({busy:!1})},e)},a.handleMidiInputEvent=lt(function(e){a.setState(Object(Ze.a)(function(t){var a=!0,n=!1,r=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value;Ie(s)?t.data=ke(t.data||{},Me(s)):console.log("MIDI message is not a sysex message")}}catch(o){n=!0,r=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}})),a.hideBusy()},function(e){a.props.onBusy({busy:!0,bytesReceived:e})},1e3),a.onChangeFile=function(e){var t=e.target.files[0];a.readFiles([t])},a.onInputFile=function(e){a.inputOpenFileRef.current.click()},a.onDragEnter=function(){a.setState({dropZoneActive:!0})},a.onDragLeave=function(){a.setState({dropZoneActive:!1})},a.onDrop=function(e){a.setState({dropZoneActive:!1},function(){a.readFiles(e)})},a.selectPreset=function(e){var t=a.state.data;t&&t[G]&&t[G][e]?a.setState(Object(Ze.a)(function(t){t.presetIndex=e})):a.setState(Object(Ze.a)(function(t){t.presetIndex=e}),function(){ct(a.state.output)&&C(e)&&a.readPacer(Fe(e),ge)})},a.onOutputConnection=function(e){a.setState(Object(Ze.a)(function(t){t.output=e}))},a.onOutputDisconnection=function(e){a.setState(Object(Ze.a)(function(e){e.output=null}))},a.sendSysex=function(e){if(a.state.output){var t=He(a.state.output);t?t.sendSysex(T,e):console.warn("send: output ".concat(a.state.output," not found"))}else console.warn("no output enabled to send the message")},a.readPacer=function(e,t){a.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:t}),a.sendSysex(e)},a.inputOpenFileRef=r.a.createRef(),a.state={output:null,data:null,presetIndex:null,dropZoneActive:!1,decBase:!0,extControls:!0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"readFiles",value:function(){var e=Object(mt.a)(dt.a.mark(function e(t){var a=this;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(mt.a)(dt.a.mark(function e(t){var n;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=5;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),a.hideBusy(),e.next=13;break;case 5:return a.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=9,new Response(t).arrayBuffer();case 9:e.t1=e.sent,Ie(n=new e.t0(e.t1))?a.setState(Object(Ze.a)(function(e){e.data=ke(e.data||{},Me(n))})):console.log("readFiles: not a sysfile",O(n.slice(0,5))),a.hideBusy();case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.presetIndex,n=t.data,c=t.output,l=t.dropZoneActive;return r.a.createElement(Ct.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},l&&r.a.createElement("div",{style:B},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement($e,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(at,{groupedPorts:e,clickHandler:t})},messageType:"sysex",onMidiInputEvent:this.handleMidiInputEvent,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"You can click on a preset to only load this specific preset from the Pacer."),r.a.createElement("div",{className:"instruction"},"Or you can use the ad-hoc button to read ALL the presets from the Pacer."),r.a.createElement("div",{className:"instruction"},"You can also load a patch file or send a dump from the Pacer.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Presets:"),r.a.createElement("div",{className:"selectors"},r.a.createElement(ft,{data:n,currentPreset:a,onClick:this.selectPreset})),r.a.createElement("div",{className:"preset-buttons"},c&&r.a.createElement("button",{onClick:function(){return e.readPacer(Re(),4536)}},"Read all presets from Pacer"),r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{onClick:this.onInputFile},"Load preset(s) from file"),n&&r.a.createElement("button",{onClick:this.clearData},"CLEAR"),n&&r.a.createElement("button",{onClick:this.toggleExtControls},this.state.extControls?"Hide external controls":"Show external controls"),n&&r.a.createElement("button",{onClick:this.toggleBase},this.state.decBase?"Display numbers in hex":"Display numbers in dec"))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement(Kt,{data:n,hexDisplay:!this.state.decBase,extControls:this.state.extControls})))))}}]),t}(n.Component)),$t=function(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact;return r.a.createElement(m.a,{path:a,exact:n,children:function(e){var n=e.match;return r.a.createElement("div",{className:n?"header-link active":"header-link"},r.a.createElement(p.a,{to:a},t))}})},ea=function(){return r.a.createElement("div",{className:"content home"},r.a.createElement("div",{className:"error"},"Invalid URL"))},ta=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={busy:!1,busyMessage:"please wait",bytesExpected:-1,progress:-1},a.onBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.busy,n=void 0!==t&&t,r=e.busyMessage,c=void 0===r?null:r,l=e.bytesExpected,s=void 0===l?-1:l,o=e.bytesReceived,i=void 0===o?-1:o,u=n!==a.state.busy;u=(u=u||null!==c&&c!==a.state.busyMessage)||s>0&&s!==a.state.bytesExpected;var d=-1;a.state.bytesExpected>0&&i>0&&(d=5*Math.round(i/a.state.bytesExpected*100/5),u=u||d>=0&&d!==a.state.progress),u&&a.setState(Object(Ze.a)(function(e){e.busy!==n&&(e.busy=n),null!==c&&(e.busyMessage=c),s>0&&s!==e.bytesExpected&&(e.bytesExpected=s),!1===n?(e.bytesExpected=-1,d=-1):(s>0&&(e.bytesExpected=s),e.progress!==d&&(e.progress=d))}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.busy,n=t.busyMessage,c=t.progress,l=Lt.parse(window.location.search),s=!!l.debug&&"1"===l.debug;return r.a.createElement(f.a,null,r.a.createElement("div",{className:"app"},a&&r.a.createElement("div",{className:"busy"},n,c>=0&&r.a.createElement("div",null,c," %")),r.a.createElement("header",{className:"header"},r.a.createElement($t,{activeOnlyWhenExact:!0,to:"/",label:"Home"}),r.a.createElement($t,{to:"/overview",label:"Overview"}),r.a.createElement($t,{to:"/preset",label:"Controls"}),r.a.createElement($t,{to:"/presetmidi",label:"MIDI"}),r.a.createElement($t,{to:"/global",label:"Global"}),r.a.createElement($t,{to:"/patch",label:"Patch"}),r.a.createElement($t,{to:"/monitor",label:"Monitor"}),s&&r.a.createElement($t,{to:"/dumpdecoder",label:"Dump decoder"}),s&&r.a.createElement($t,{to:"/debug",label:"Debug"}),r.a.createElement("div",{className:"spacer"}," "),r.a.createElement("div",{className:"header-app-name"},"Pacer editor 0.9.0")),r.a.createElement(E.a,null,r.a.createElement(m.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(h,null)}}),r.a.createElement(m.a,{path:"/overview",render:function(t){return r.a.createElement(Qt,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(m.a,{path:"/preset",render:function(t){return r.a.createElement(kt,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(m.a,{path:"/presetmidi",render:function(t){return r.a.createElement(_t,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(m.a,{path:"/global",render:function(t){return r.a.createElement(Rt,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(m.a,{path:"/patch",render:function(t){return r.a.createElement(Ht,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(m.a,{path:"/monitor",render:function(t){return r.a.createElement(Dt,{onBusy:e.onBusy,debug:s})}}),s&&r.a.createElement(m.a,{path:"/dumpdecoder",render:function(t){return r.a.createElement(Ft,{onBusy:e.onBusy,debug:s})}}),s&&r.a.createElement(m.a,{path:"/debug",render:function(t){return r.a.createElement(it,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(m.a,{component:ea})),r.a.createElement(Mt,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function aa(){}console.log=aa,console.warn=aa,console.error=aa,l.a.render(r.a.createElement(ta,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,2,1]]]);
//# sourceMappingURL=main.4d68f982.chunk.js.map