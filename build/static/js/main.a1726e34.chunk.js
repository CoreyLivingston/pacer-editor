(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);a(44);var n=a(0),r=a.n(n),c=a(31),l=a.n(c),s=(a(51),a(6)),o=a(7),i=a(9),u=a(8),m=a(4),d=a(3),p=a(15),h=a.n(p),f=a(24),v=a(5),E=a(11),b=a.n(E);function g(e){var t=b.a.inputs.find(function(t){return t.id===e});return t||b.a.outputs.find(function(t){return t.id===e})}function y(e){return b.a.outputs.find(function(t){return t.id===e})}var O=a(1);function j(e){return void 0!==e&&null!==e&&""!==e&&e>=0}var N,C,w,x,D,P,k,R,S,I,M={position:"absolute",top:0,right:0,bottom:0,left:0,paddingTop:"4rem",background:"rgba(0,0,0,0.4)",textAlign:"center",color:"#fff",fontSize:"4rem"},A=[0,1,119],F=[127],T=1,_=2,B=1,L=(N={},Object(O.a)(N,B,"preset"),Object(O.a)(N,5,"global"),Object(O.a)(N,7,"full backup"),N),U=["switch 1","switch 2","switch 3","switch 4","switch 5","switch 6",null,"switch A","switch B","switch C","switch D","FS 1","FS 2","FS 3","FS 4","EXP 1","EXP 2"],G=["Current","Track","Transport","A1","A2","A3","A4","A5","A6","B1","B2","B3","B4","B5","B6","C1","C2","C3","C4","C5","C6","D1","D2","D3","D4","D5","D6"],Z=1,H=13,W=14,V=15,Y=16,z=17,X=18,J=20,K=21,q=22,Q=23,$=24,ee=25,te=26,ae=27,ne=54,re=55,ce=126,le=127,se=(C={},Object(O.a)(C,Z,"name"),Object(O.a)(C,H,"1"),Object(O.a)(C,W,"2"),Object(O.a)(C,V,"3"),Object(O.a)(C,Y,"4"),Object(O.a)(C,z,"5"),Object(O.a)(C,X,"6"),Object(O.a)(C,19,"RESERVED"),Object(O.a)(C,J,"A"),Object(O.a)(C,K,"B"),Object(O.a)(C,q,"C"),Object(O.a)(C,Q,"D"),Object(O.a)(C,$,"FS 1"),Object(O.a)(C,ee,"FS 2"),Object(O.a)(C,te,"FS 3"),Object(O.a)(C,ae,"FS 4"),Object(O.a)(C,ne,"EXP 1"),Object(O.a)(C,re,"EXP 2"),Object(O.a)(C,ce,"MIDI configuration"),Object(O.a)(C,le,"ALL"),C),oe={1:"Preset Name",13:"Stompswitch 1",14:"Stompswitch 2",15:"Stompswitch 3",16:"Stompswitch 4",17:"Stompswitch 5",18:"Stompswitch 6",19:"RESERVED",20:"Stompswitch A",21:"Stompswitch B",22:"Stompswitch C",23:"Stompswitch D",24:"Footswitch 1",25:"Footswitch 2",26:"Footswitch 3",27:"Footswitch 4",54:"Expression Pedal 1",55:"Expression Pedal 2",126:"MIDI configuration",127:"ALL"},ie=([13,14,15,16,17,18,20,21,22,23].map(String),[20,21,22,23].map(String)),ue=[13,14,15,16,17,18].map(String),me=[24,25,26,27].map(String),de=[54,55].map(String),pe=97,he=(w={},Object(O.a)(w,0,"CC"),Object(O.a)(w,3,"NRPN C"),Object(O.a)(w,4,"NRPN F"),Object(O.a)(w,1,"PITCH"),Object(O.a)(w,2,"AT CHAN"),Object(O.a)(w,126,"DAW FUNC"),Object(O.a)(w,pe,"CTRL_OFF"),Object(O.a)(w,71,"CC TOGGLE"),Object(O.a)(w,64,"CC"),Object(O.a)(w,72,"CC STEP"),Object(O.a)(w,67,"NOTE"),Object(O.a)(w,68,"NOTE TOGGLE"),Object(O.a)(w,69,"PRG BANK"),Object(O.a)(w,70,"PRG STEP"),Object(O.a)(w,87,"NRPN COARSE"),Object(O.a)(w,88,"NRPN FINE"),Object(O.a)(w,85,"MMC"),Object(O.a)(w,89,"RELAY"),Object(O.a)(w,98,"PRESET SELECT"),Object(O.a)(w,86,"PRESET INC DEC"),Object(O.a)(w,99,"STEP SELECT"),Object(O.a)(w,100,"STEP INC DEC"),Object(O.a)(w,18,"CC"),Object(O.a)(w,17,"CC REL"),Object(O.a)(w,21,"NRPN C"),Object(O.a)(w,22,"NRPN F"),Object(O.a)(w,19,"PITCH"),Object(O.a)(w,20,"AT CHAN"),Object(O.a)(w,16,"PRG"),Object(O.a)(w,23,"PRESET SEL"),Object(O.a)(w,24,"STEP SEL"),Object(O.a)(w,101,"CC"),w),fe=(x={},Object(O.a)(x,0,"CC"),Object(O.a)(x,3,"NRPN C"),Object(O.a)(x,4,"NRPN F"),Object(O.a)(x,1,"Pitch"),Object(O.a)(x,2,"AT CHAN"),Object(O.a)(x,126,"DAW"),Object(O.a)(x,pe,"OFF"),Object(O.a)(x,71,"CC tggl"),Object(O.a)(x,64,"CC"),Object(O.a)(x,72,"CC step"),Object(O.a)(x,67,"Note"),Object(O.a)(x,68,"Note tggl"),Object(O.a)(x,69,"Prg bank"),Object(O.a)(x,70,"Prg step"),Object(O.a)(x,87,"NRPN C"),Object(O.a)(x,88,"NRPN F"),Object(O.a)(x,85,"MMC"),Object(O.a)(x,89,"Relay"),Object(O.a)(x,98,"Preset sel"),Object(O.a)(x,86,"Preset +/-"),Object(O.a)(x,99,"Step sel"),Object(O.a)(x,100,"Step +/-"),Object(O.a)(x,18,"CC"),Object(O.a)(x,17,"CC rel"),Object(O.a)(x,21,"NRPN C"),Object(O.a)(x,22,"NRPN F"),Object(O.a)(x,19,"Pitch"),Object(O.a)(x,20,"AT chan"),Object(O.a)(x,16,"Prg"),Object(O.a)(x,23,"Preset sel"),Object(O.a)(x,24,"Step sel"),Object(O.a)(x,101,"CC"),D={},Object(O.a)(D,pe,"OFF"),Object(O.a)(D,0,"CC"),Object(O.a)(D,3,"NRPN Coarse"),Object(O.a)(D,4,"NRPN Fine"),Object(O.a)(D,1,"Pitch Bend"),Object(O.a)(D,2,"Channel AfterTouch"),Object(O.a)(D,126,"DAW Function"),Object(O.a)(D,71,"CC Toggle"),Object(O.a)(D,64,"CC Trigger"),Object(O.a)(D,72,"CC Step"),Object(O.a)(D,67,"Note"),Object(O.a)(D,68,"Note Toggle"),Object(O.a)(D,69,"Program & Bank"),Object(O.a)(D,70,"Program Step"),Object(O.a)(D,87,"NRPN Coarse"),Object(O.a)(D,88,"NRPN Fine"),Object(O.a)(D,85,"MIDI Machine Control"),Object(O.a)(D,89,"Relay Outputs"),Object(O.a)(D,98,"Preset Select"),Object(O.a)(D,86,"Preset Inc/Dec"),Object(O.a)(D,99,"Step Select"),Object(O.a)(D,100,"Step Inc/Dec"),Object(O.a)(D,18,"CC"),Object(O.a)(D,17,"CC REL"),Object(O.a)(D,21,"NRPN Coarse"),Object(O.a)(D,22,"NRPN Fine"),Object(O.a)(D,19,"Pitch Bend"),Object(O.a)(D,20,"AT Chan."),Object(O.a)(D,16,"Program"),Object(O.a)(D,23,"Preset Sel"),Object(O.a)(D,24,"Step Sel"),D),ve=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push({key:a,value:e[a]});return t.sort(function(e,t){return e.value.localeCompare(t.value)}),t}((P={},Object(O.a)(P,101,"Load CC"),Object(O.a)(P,67,"MIDI Note"),Object(O.a)(P,69,"Program & Bank"),Object(O.a)(P,87,"NRPN Coarse"),Object(O.a)(P,88,"NRPN Fine"),Object(O.a)(P,85,"MIDI Machine Control"),Object(O.a)(P,89,"Relay Outputs"),Object(O.a)(P,126,"DAW Func."),Object(O.a)(P,pe,"OFF"),P)),Ee="not used",be=(k={},Object(O.a)(k,pe,["","",""]),Object(O.a)(k,0,["Controller","Min","Max"]),Object(O.a)(k,3,["Max","NRPN LSB","NRPN MSB"]),Object(O.a)(k,4,["Max","NRPN LSB","NRPN MSB"]),Object(O.a)(k,1,[Ee,"Min","Max"]),Object(O.a)(k,2,[Ee,"Min","Max"]),Object(O.a)(k,126,["function",Ee,Ee]),Object(O.a)(k,71,["controller","value 1","value 2"]),Object(O.a)(k,64,["controller","down","up"]),Object(O.a)(k,72,["controller","start","end"]),Object(O.a)(k,67,["note","velocity",Ee]),Object(O.a)(k,68,["note","velocity",Ee]),Object(O.a)(k,69,["program","bank LSB","bank MSB"]),Object(O.a)(k,70,[Ee,"start","end"]),Object(O.a)(k,87,["value","NRPN LSB","NRPN MSB"]),Object(O.a)(k,88,["value","NRPN LSB","NRPN MSB"]),Object(O.a)(k,85,["device","command",Ee]),Object(O.a)(k,89,["mode","relay #",Ee]),Object(O.a)(k,98,["preset",Ee,Ee]),Object(O.a)(k,86,["inc/dec",Ee,Ee]),Object(O.a)(k,99,["target","step",Ee]),Object(O.a)(k,100,["target","inc/dec",Ee]),Object(O.a)(k,18,["","",""]),Object(O.a)(k,17,["","",""]),Object(O.a)(k,21,["","",""]),Object(O.a)(k,22,["","",""]),Object(O.a)(k,19,["","",""]),Object(O.a)(k,20,["","",""]),Object(O.a)(k,16,["","",""]),Object(O.a)(k,23,["","",""]),Object(O.a)(k,24,["","",""]),Object(O.a)(k,101,["controller","value",Ee]),k),ge=(R={},Object(O.a)(R,0,[!0,!0,!0]),Object(O.a)(R,3,[!0,!0,!0]),Object(O.a)(R,4,[!0,!0,!0]),Object(O.a)(R,1,[!0,!0,!0]),Object(O.a)(R,2,[!0,!0,!0]),Object(O.a)(R,126,[!0,!1,!1]),Object(O.a)(R,pe,[!0,!0,!0]),Object(O.a)(R,71,[!0,!0,!0]),Object(O.a)(R,64,[!0,!0,!0]),Object(O.a)(R,72,[!0,!0,!0]),Object(O.a)(R,67,[!0,!0,!1]),Object(O.a)(R,68,[!0,!0,!1]),Object(O.a)(R,69,[!0,!0,!0]),Object(O.a)(R,70,[!1,!0,!0]),Object(O.a)(R,87,[!0,!0,!0]),Object(O.a)(R,88,[!0,!0,!0]),Object(O.a)(R,85,[!0,!0,!1]),Object(O.a)(R,89,[!0,!0,!1]),Object(O.a)(R,98,[!0,!1,!1]),Object(O.a)(R,86,[!0,!1,!1]),Object(O.a)(R,99,[!0,!0,!1]),Object(O.a)(R,100,[!0,!0,!1]),Object(O.a)(R,18,[!0,!0,!0]),Object(O.a)(R,17,[!0,!0,!0]),Object(O.a)(R,21,[!0,!0,!0]),Object(O.a)(R,22,[!0,!0,!0]),Object(O.a)(R,19,[!0,!0,!0]),Object(O.a)(R,20,[!0,!0,!0]),Object(O.a)(R,16,[!0,!0,!0]),Object(O.a)(R,23,[!0,!0,!0]),Object(O.a)(R,24,[!0,!0,!0]),Object(O.a)(R,101,[!0,!0,!1]),R),ye=[71,64,72,67,68,69,70,87,88,85,89,98,86,99,100,pe],Oe=[71,64,72,67,68,69,70,87,88,85,89,98,86,99,100,pe],je=[0,3,4,1,2,pe],Ne=["Auto Detect","Normally Open","Normally Closed","Latching"],Ce={0:"Off",1:"1A Pink",2:"1B Dim Pink",3:"2A Red",4:"2B Dim Red",5:"3A Orange",6:"3B Dim Orange",7:"4A Amber",8:"4B Dim Amber",9:"5A Yellow",10:"5B Dim Yellow",11:"6A Lime",12:"6B Dim Lime",13:"7A Green",14:"7B Dim Green",15:"8A Teal",16:"8B Dim Teal",17:"9A Blue",18:"9B Dim Blue",19:"10A Lavender",20:"10B Dim Lavender",21:"11A Purple",22:"11B Dim Purple",23:"12A White",24:"12B Dim White"},we={0:"#000000",1:"#FFC0CB",2:"rgba(255, 192, 203, 0.5)",3:"#FF0000",4:"rgba(255, 0, 0, 0.5)",5:"#FF8C00",6:"rgba(255, 140, 0, 0.5)",7:"#FFBF00",8:"rgba(255, 191, 0, 0.5)",9:"#FFFF00",10:"rgba(255, 255, 0, 0.5)",11:"#00FF00",12:"rgba(0, 255, 0, 0.5)",13:"#008000",14:"rgba(0, 128, 0, 0.5)",15:"#008080",16:"rgba(0, 128, 128, 0.5)",17:"#0000FF",18:"rgba(0, 0, 255, 0.5)",19:"#E6E6FA",20:"rgba(230, 230, 250, 0.5)",21:"#800080",22:"rgba(128, 0, 128, 0.5)",23:"#FFFFFF",24:"#FFFFFF"},xe=96,De=(S={},Object(O.a)(S,0,"All steps in one shot"),Object(O.a)(S,2,"External Step Select"),Object(O.a)(S,1,"Sequence"),S),Pe=(I={},Object(O.a)(I,0,"All"),Object(O.a)(I,2,"ESS"),Object(O.a)(I,1,"Seq"),a(23)),ke=a(32),Re=function(e){return null===e||void 0===e?"":function(e,t,a){for(var n="",r=a||"0",c=(t||2)-e.length;n.length<c;)n+=r;return n+e}(e.toString(16).toUpperCase(),2)},Se=function(e){return null===e||void 0===e?"":Array.from(e).map(function(e){return Re(e)}).join(" ")},Ie=function(e,t){var a=t?e.replace(t,""):e;if(a.length%2>0)return null;if(0===a.length)return null;for(var n=new Uint8Array(a.length/2),r=0;r<a.length/2;r++)n[r]=parseInt(a.substr(2*r,2),16);return n},Me=240,Ae=247,Fe="controls",Te=4,_e=5,Be=6,Le=7,Ue=8;function Ge(e){return e&&"object"===typeof e&&!Array.isArray(e)}function Ze(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if(!a.length)return e;var r=a.shift();if(Ge(e)&&Ge(r))for(var c in r)Ge(r[c])?(e[c]||Object.assign(e,Object(O.a)({},c,{})),Ze(e[c],r[c])):Object.assign(e,Object(O.a)({},c,r[c]));return Ze.apply(void 0,[e].concat(a))}function He(e){return null===e||void 0===e||0===e.length?128:(128-Uint8Array.from(e).reduce(function(e,t){return e+t})%128)%128}function We(e){return e[0]===Me&&e[e.byteLength-1]===Ae}function Ve(e){var t,a={},n=e[Te],r=e[_e],c=e[Be],l=e[Le];switch(n){case T:case _:break;default:return console.warn("parseSysexMessage: invalid command (".concat(Re(n),")")),null}if(!(r in L))return console.warn("parseSysexMessage: invalid target",Re(r),r,L),null;if(a[r]={},a[r][c]={},7===e.length)return a;if(!(l in se))return null;if(l===Z)t="name";else if(l>=H&&l<=X||l>=J&&l<=ae||l>=ne&&l<=re)t="control";else if(l===ce)t="midi";else{if(l!==le)return console.warn("parseSysexMessage: invalid obj",l),null;t="all"}if("name"===t&&(a[r][c].name=function(e){var t=e[1];return String.fromCharCode.apply(null,e.slice(2,2+t))}(e.slice(Ue))),"control"===t)if(a[r][c][Fe]=Object(O.a)({},l,{steps:{}}),e.length>9){var s=e[Ue];if(s>=1&&s<=36)if(e.length>Ue+22){var o=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]],active:e[22]}}}(e.slice(Ue,Ue+23));a[r][c][Fe][l].steps[o.index]=o.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),Se(e));else if(s===xe){var i=function(e){return{control_mode:e[2]}}(e.slice(Ue,e.length-1));a[r][c][Fe][l]=Ze(a[r][c][Fe][l],i)}else if(s>=64&&s<=87){var u=function(e){for(var t,a,n,r={steps:{}},c=0;c<e.length;){var l=e[c];switch(0===c&&(n=""+((l-64)/4+1)),n in r.steps||(r.steps[n]={}),l){case 64:case 68:case 72:case 76:case 80:case 84:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_midi_ctrl=a;break;case 65:case 69:case 73:case 77:case 81:case 85:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_active_color=a;break;case 66:case 70:case 74:case 78:case 82:case 86:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_inactive_color=a;break;case 67:case 71:case 75:case 79:case 83:case 87:t=e[++c],c++,a=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[n].led_num=a;break;case 127:c=e.length;break;default:c++}}return r}(e.slice(Ue,e.length-1));a[r][c][Fe][l]=Ze(a[r][c][Fe][l],u)}else if(127!==s)return console.warn("parseSysexMessage: unknown element: ".concat(Re(s))),null}else a[r][c][Fe]=Object(O.a)({},l,{});if("midi"===t){a[r][c].midi={};var m=e[Ue];if(!(m>=1&&m<=96))return console.warn("parseSysexMessage: unknown element: ".concat(Re(m))),null;if(e.length>Ue+19){var d=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]]}}}(e.slice(Ue,Ue+20));a[r][c].midi[d.index]=d.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),Se(e))}return"all"===t&&(a[r][c].all={}),a}function Ye(e){if(null===e)return null;for(var t={},a=0;!((a=e.indexOf(Me,a))<0);){a++;var n=e.indexOf(Ae,a),r=Array.from(e.slice(a,a+3)).map(function(e){return Re(e)}).join(" ");if(r!==ke.NEKTAR_TECHNOLOGY_INC)return console.log("parseSysexDump: file does not contain a Nektar Pacer patch",a,n,r,"-",Se(e)),null;if(127!==e[a+3])return console.warn("parseSysexDump: invalid byte after manufacturer id: ".concat(e[a+1+3])),null;var c=Ve(e.slice(a,n));c&&Ze(t,c)}return t}function ze(){var e=[_,B,le],t=He(e);return e.push(t),F.concat(e)}function Xe(e){var t=[_,B,e,le],a=He(t);return t.push(a),F.concat(t)}function Je(e,t){var a=[_,B,e,t],n=He(a);return a.push(n),F.concat(a)}function Ke(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(Pe.a)(function(e,t,a){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&!a.control_mode_changed)return[];var n=[T,B,e,t,xe,1,a.control_mode];return n.push(He(n)),[F.concat(n)]}(e,t,a[B][e][Fe][t],n)).concat(Object(Pe.a)(function(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],c=Object.keys(a),l=0;l<c.length;l++){var s=c[l],o=a[s];if(n||o.changed){var i=[T,B,e,t];i.push(6*(s-1)+1,1,o.channel,0),i.push(6*(s-1)+2,1,o.msg_type,0),i.push(6*(s-1)+3,1,o.data[0],0),i.push(6*(s-1)+4,1,o.data[1],0),i.push(6*(s-1)+5,1,o.data[2],0),i.push(6*(s-1)+6,1,o.active),i.push(He(i)),r.push(F.concat(i))}}return r}(e,t,a[B][e][Fe][t].steps,n)),Object(Pe.a)(function(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],c=Object.keys(a),l=0;l<c.length;l++){var s=c[l],o=a[s];if(n||o.led_changed){var i=[T,B,e,t];i.push(4*(s-1)+64,1,o.led_midi_ctrl,0),i.push(4*(s-1)+65,1,o.led_active_color,0),i.push(4*(s-1)+66,1,o.led_inactive_color,0),i.push(4*(s-1)+67,1,o.led_num),i.push(He(i)),r.push(F.concat(i))}}return r}(e,t,a[B][e][Fe][t].steps,n)))}function qe(e,t){return function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],r=Object.keys(t),c=0;c<r.length;c++){var l=r[c],s=t[l];if(s.changed||a){var o=[T,B,e,ce];o.push(6*(l-1)+1,1,s.channel,0),o.push(6*(l-1)+2,1,s.msg_type,0),o.push(6*(l-1)+3,1,s.data[0],0),o.push(6*(l-1)+4,1,s.data[1],0),o.push(6*(l-1)+5,1,s.data[2],0),o.push(6*(l-1)+6,1,s.active),o.push(He(o)),n.push(F.concat(o))}}return n}(e,t[B][e].midi)}var Qe=function(){function e(){var t=this;Object(s.a)(this,e),this.toggleForceReread=function(){t.forceReread=!t.forceReread},this.sendSysex=function(e){if(t.midi.output){var a=y(t.midi.output);a?a.sendSysex(A,e):console.warn("send: output ".concat(t.midi.output," not found"))}else console.warn("no output enabled to send the message")},this.readPacer=function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Please wait...";t.showBusy({busy:!0,busyMessage:n,bytesReceived:0,bytesExpected:a}),t.sendSysex(e)},this.data=null,this.currentPresetIndex="",this.currentControl="",this.updateMessages={},this.midi={inputs:[],outputs:[],input:0,output:0},this.busy=!1,this.busyMessage="Receiving data, please wait...",this.bytesExpected=-1,this.progress=-1,this.decBase=!0,this.extControls=!0,this.forceReread=!1,this.changed=!1,this.D6InfoVisible=!1,this.D6InfoHidden=!1}return Object(o.a)(e,[{key:"clear",value:function(){console.log("state: clear data"),this.data=null,this.updateMessages={}}},{key:"showD6Info",value:function(){this.D6InfoHidden||(this.D6InfoVisible=!0),console.log("showD6Info()",this.D6InfoVisible)}},{key:"hideD6Info",value:function(){this.D6InfoVisible=!1,this.D6InfoHidden=!0}},{key:"onBusy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.busy,a=void 0!==t&&t,n=e.busyMessage,r=void 0===n?null:n,c=e.bytesExpected,l=void 0===c?-1:c,s=e.bytesReceived,o=void 0===s?-1:s,i=a!==this.busy;i=(i=i||null!==r&&r!==this.busyMessage)||l>0&&l!==this.bytesExpected;var u=-1;this.bytesExpected>0&&o>0&&(u=5*Math.round(o/this.bytesExpected*100/5),i=i||u>=0&&u!==this.progress),i&&(this.busy!==a&&(this.busy=a),null!==r&&(this.busyMessage=r),l>0&&l!==this.bytesExpected&&(this.bytesExpected=l),!1===a?(this.bytesExpected=-1,this.progress=-1):(l>0&&(this.bytesExpected=l),this.progress!==u&&(this.progress=u)))}},{key:"showBusy",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(t.busy,t.busyMessage),n=void 0===a?null:a,r=t.bytesExpected,c=void 0===r?-1:r,l=t.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return e.onBusy({busy:!1})},2e4),this.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})}},{key:"hideBusy",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t<1?this.onBusy({busy:!1}):setTimeout(function(){return e.onBusy({busy:!1})},t)}},{key:"selectPreset",value:function(e){this.currentPresetIndex=e}},{key:"selectControl",value:function(e){this.currentControl=e}},{key:"setControlMode",value:function(e){this.data[B][this.currentPresetIndex][Fe][this.currentControl].control_mode=e,this.data[B][this.currentPresetIndex][Fe][this.currentControl].control_mode_changed=!0,this.addControlUpdateMessage(this.currentControl,Ke(this.currentPresetIndex,this.currentControl,this.data)),this.changed=!0}},{key:"addControlUpdateMessage",value:function(e,t){this.updateMessages.hasOwnProperty(this.currentPresetIndex)||(this.updateMessages[this.currentPresetIndex]={}),this.updateMessages[this.currentPresetIndex].hasOwnProperty(Fe)||(this.updateMessages[this.currentPresetIndex][Fe]={}),this.updateMessages[this.currentPresetIndex][Fe][e]=t}},{key:"updatePresetName",value:function(e,t){void 0!==t&&null!==t&&(t.length>5?console.warn("Presets.updateName: name too long: ".concat(t)):(this.data[B][e].name=t,this.data[B][e].changed=!0,this.updateMessages.hasOwnProperty(e)||(this.updateMessages[e]={}),this.updateMessages[e].hasOwnProperty("name")||(this.updateMessages[e].name={}),this.updateMessages[e].name.dummy=function(e,t){var a=[T,B,e,Z,0],n=t[B][e].name;a.push(n.length);for(var r=0;r<n.length;r++)a.push(n.charCodeAt(r));return a.push(He(a)),[F.concat(a)]}(e,this.data),this.changed=!0))}},{key:"updateControlStepMessageType",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currentPresetIndex,r=parseInt(a,10);this.data[B][n][Fe][e].steps[t].msg_type=r,this.data[B][n][Fe][e].steps[t].active=r===pe?0:1,this.data[B][n][Fe][e].steps[t].changed=!0,this.addControlUpdateMessage(e,Ke(n,e,this.data)),this.changed=!0}},{key:"updateControlStep",value:function(e,t,a,n,r){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.currentPresetIndex;console.log("updateControlStep(".concat(e,", ").concat(t,", ").concat(a,", ").concat(n,", ").concat(r,")"));var l=parseInt(r,10);"data"===a?this.data[B][c][Fe][e].steps[t].data[n]=l:this.data[B][c][Fe][e].steps[t][a]=l,a.startsWith("led_")?this.data[B][c][Fe][e].steps[t].led_changed=!0:this.data[B][c][Fe][e].steps[t].changed=!0,this.addControlUpdateMessage(e,Ke(c,e,this.data)),this.changed=!0}},{key:"updateMidiSettings",value:function(e,t,a,n){var r=parseInt(n,10),c=this.currentPresetIndex;"data"===t?this.data[B][c].midi[e].data[a]=r:this.data[B][c].midi[e][t]=r,"msg_type"===t&&(this.data[B][c].midi[e].active=r===pe?0:1),this.data[B][c].midi[e].changed=!0,this.changed=!0,this.updateMessages.hasOwnProperty(c)||(this.updateMessages[c]={}),this.updateMessages[c].hasOwnProperty("midi")||(this.updateMessages[c].midi={}),this.updateMessages[c].midi.dummy=qe(c,this.data)}},{key:"readPreset",value:function(e){this.midi.output&&this.midi.input&&this.readPacer(Xe(e),189)}},{key:"readFiles",value:function(){var e=Object(f.a)(h.a.mark(function e(t){var a=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=5;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),a.hideBusy(),e.next=13;break;case 5:return a.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=9,new Response(t).arrayBuffer();case 9:e.t1=e.sent,We(n=new e.t0(e.t1))?a.data=Ze(a.data||{},Ye(n)):console.log("readFiles: not a sysex file",Se(n.slice(0,5))),a.hideBusy();case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"updatePacer",value:function(){var e=this;this.showBusy({busy:!0,busyMessage:"write Preset..."}),Object.getOwnPropertyNames(this.updateMessages).forEach(function(t){Object.getOwnPropertyNames(e.updateMessages[t]).forEach(function(a){Object.getOwnPropertyNames(e.updateMessages[t][a]).forEach(function(n){e.updateMessages[t][a][n].forEach(function(t){e.sendSysex(t)})})})}),setTimeout(function(){e.changed=!1,e.updateMessages={},e.readPreset(e.currentPresetIndex)},1e3)}},{key:"connected",get:function(){return 0!==this.midi.output&&0!==this.midi.input}}]),e}();Object(v.decorate)(Qe,{data:v.observable,currentPresetIndex:v.observable,currentControl:v.observable,updateMessages:v.observable,midi:v.observable,connected:v.computed,busy:v.observable,busyMessage:v.observable,progress:v.observable,decBase:v.observable,extControls:v.observable,forceReread:v.observable,changed:v.observable,D6InfoVisible:v.observable});var $e=new Qe,et=a(102),tt=a(103),at=a(104),nt=a(106);a(55);function rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ct=function(e){Object(i.a)(a,e);var t=rt(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content home"},r.a.createElement("h1",null,"Requirements"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"This editor requires a browser that support the ",r.a.createElement("a",{href:"http://webaudio.github.io/web-midi-api/",target:"_blank",rel:"noopener noreferrer"},"Web MIDI API"),"."),r.a.createElement("p",null,"Currently, only ",r.a.createElement("span",{className:"strong"},"Chrome")," and ",r.a.createElement("span",{className:"strong"},"Opera")," support this standard. This application will therefore ",r.a.createElement("span",{className:"italic"},"not")," work in Firefox, Safari, IE or Edge."),r.a.createElement("p",null,"This editor does not work on iPad or Android tablet either."),r.a.createElement("p",null,"Ensure your Pacer is running the ",r.a.createElement("a",{href:"https://nektartech.com/updating-firmware-pacer/",target:"_blank",rel:"noopener noreferrer"},"latest firmware v10112"),".")),r.a.createElement("h1",null,"Known issues"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The preset D6 can not be read.")),r.a.createElement("h1",null,"Limitations"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The current version of this editor isn't able to edit the Global configuration of the Pacer. This is planned for a future release."),r.a.createElement("p",null,"This editor is provided as-is, without warranty of any kind, express or implied. If you encounter a bug, please fill a bug report with ",r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor/issues/new",target:"_blank",rel:"noopener noreferrer"},"this form"),".")),r.a.createElement("h1",null,"Connecting your Pacer"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Make sure your Pacer is connected to your computer and switched-on."),r.a.createElement("p",null,"This editor listen on all MIDI ports. A future version may offer the possibility to choose a specific port."),r.a.createElement("p",null,"In case of problem, when either the application or Pacer does not respond or communicate, try to reload the application (refresh the page) or reboot the Pacer."),r.a.createElement("p",null,"You can find info about WebMIDI at ",r.a.createElement("a",{href:"https://studiocode.dev/support/webmidi/",target:"_blank",rel:"noopener noreferrer"},"studiocode.dev/support/webmidi"))),r.a.createElement("h1",null,"Editing presets"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The preset ",r.a.createElement("span",{className:"strong"},"CUR")," is the ",r.a.createElement("span",{className:"italic fluo"},"current")," preset. When you edit preset ",r.a.createElement("span",{className:"strong"},"CUR")," your changes are immediately applied."),r.a.createElement("p",null,"When you edit any other presets, you edit the ",r.a.createElement("span",{className:"fluo"},"saved")," settings of the preset and your changes will only be applied when you ",r.a.createElement("span",{className:"fluo"},"load")," this preset in the Pacer."),r.a.createElement("p",null,"It is currently not possible to load the preset from this editor."),r.a.createElement("div",null,r.a.createElement("h3",null,"Example 1:"),r.a.createElement("p",null,"The currently loaded preset (CUR) is preset ",r.a.createElement("span",{className:"strong"},"A5"),"."),r.a.createElement("p",null,"You edit the preset ",r.a.createElement("span",{className:"strong"},"A5"),"."),r.a.createElement("p",null,"After you save your modifications, the display will show dots. That means the current preset does not reflect the saved preset anymore. You have to ",r.a.createElement("span",{className:"fluo"},"reload")," the preset to be able to use your updated version:"),r.a.createElement("p",null,"- long-press ",r.a.createElement("span",{className:"strong"},"Preset")," switch, then press switch ",r.a.createElement("span",{className:"strong"},"A"),", then press switch ",r.a.createElement("span",{className:"strong"},"5"),".")),r.a.createElement("div",null,r.a.createElement("h3",null,"Example 1:"),r.a.createElement("p",null,"The currently loaded preset (CUR) is preset ",r.a.createElement("span",{className:"strong"},"A1"),"."),r.a.createElement("p",null,"You edit the preset ",r.a.createElement("span",{className:"strong"},"D3"),"."),r.a.createElement("p",null,"After you save your modifications of preset ",r.a.createElement("span",{className:"strong"},"D3"),", if you want to use it, of course you have to load it:"),r.a.createElement("p",null,"- long-press ",r.a.createElement("span",{className:"strong"},"Preset")," switch, then press switch ",r.a.createElement("span",{className:"strong"},"D"),", then press switch ",r.a.createElement("span",{className:"strong"},"3"),"."))),r.a.createElement("h1",null,"Controls settings"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Each control (buttons 1-6 & A-D, external FS1-FS4 & EXP1-EXP2) can be configured with up to 6 steps."),r.a.createElement("p",null,"At the most basic level, each step has a ",r.a.createElement("span",{className:"italic fluo"},"type")," value that determines the message or action the step will send or execute, as well as 3 data fields that configure the options and parameters for the step depending on the selected type."),r.a.createElement("table",{className:"doc-controls"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("br",null),"Type"),r.a.createElement("th",null,r.a.createElement("br",null),"Description"),r.a.createElement("th",null,"Data 1",r.a.createElement("br",null),"desc."),r.a.createElement("th",null,"Data 1",r.a.createElement("br",null),"values"),r.a.createElement("th",null,"Data 2",r.a.createElement("br",null),"desc."),r.a.createElement("th",null,"Data 2",r.a.createElement("br",null),"values"),r.a.createElement("th",null,"Data 3",r.a.createElement("br",null),"desc."),r.a.createElement("th",null,"Data 3",r.a.createElement("br",null),"values"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"CC Toggle"),r.a.createElement("td",{className:"ctrl-desc"},"Sends a MIDI CC message that toggles between two values each time the button is pressed"),r.a.createElement("td",null,"MIDI CC"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send on Press 1"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send on Press 2"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"CC Trigger"),r.a.createElement("td",{className:"ctrl-desc"},"Sends a MIDI CC message when the button is pressed"),r.a.createElement("td",null,"MIDI CC"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send when pressing down"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"allow-break"},"Value to send when releasing"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"CC Step"),r.a.createElement("td",{className:"ctrl-desc"}," ??? "),r.a.createElement("td",null,"MIDI CC"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Start value"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"End value"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Note"),r.a.createElement("td",{className:"ctrl-desc"},"Send a note when the button is pressed, stop when released"),r.a.createElement("td",null,"Note"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Velocity"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Note Toggle"),r.a.createElement("td",{className:"ctrl-desc"},"Send a note when the button is pressed, stop when pressed again"),r.a.createElement("td",null,"Note"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Velocity"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Program & Bank"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Program Change message when the button is pressed"),r.a.createElement("td",null,"Program"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Bank LSB"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Bank MSB"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Program Step"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Program Step message ??? "),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",null,"Start"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"End"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"NRPN Coarse"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Non-Registered Parameter Number Coarse message"),r.a.createElement("td",null,"Value"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"LSB"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"MSB"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"NRPN Fine"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Non-Registered Parameter Number Fine message"),r.a.createElement("td",null,"Value"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"LSB"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"MSB"),r.a.createElement("td",null,"0-127")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"MIDI Machine Control"),r.a.createElement("td",{className:"ctrl-desc"},"Send a MIDI Machine Control message"),r.a.createElement("td",null,"Device ID"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",null,"Command"),r.a.createElement("td",null,"0-127"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Relay Outputs"),r.a.createElement("td",{className:"ctrl-desc"},"Action a Pacer Relay"),r.a.createElement("td",null,"Mode"),r.a.createElement("td",null,"N.O.: 1",r.a.createElement("br",null),"N.C.: 2",r.a.createElement("br",null),"Lat.: 3"),r.a.createElement("td",null,"Relay"),r.a.createElement("td",null,"R1: 0",r.a.createElement("br",null),"R2: 1",r.a.createElement("br",null),"R3: 2",r.a.createElement("br",null),"R4: 3"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Preset Select"),r.a.createElement("td",{className:"ctrl-desc"},"Switch to the target Preset"),r.a.createElement("td",null,"Target"),r.a.createElement("td",null,r.a.createElement("span",{className:"no-break"},"(Bank * 6) + Num"),r.a.createElement("br",null),"Bank A=0,",r.a.createElement("br",null),"Bank B=1.."),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Preset Inc/Dec"),r.a.createElement("td",{className:"ctrl-desc"},"Switch to the next/previous Preset"),r.a.createElement("td",null,"Direction"),r.a.createElement("td",null,"Increment: ??",r.a.createElement("br",null),"Decrement: ??"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Step Select"),r.a.createElement("td",{className:"ctrl-desc"},"?? Action a specific Step for a Control"),r.a.createElement("td",null,"Control Target"),r.a.createElement("td",null,"?? A-D,",r.a.createElement("br",null),"1-6,",r.a.createElement("br",null),"FS1-4,",r.a.createElement("br",null),"EXP1-2"),r.a.createElement("td",null,"Step"),r.a.createElement("td",null,"?? 1-6 (0-indexed?)"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"Step Inc/Dec"),r.a.createElement("td",{className:"ctrl-desc"},"?? Action the next/prev Step for a Control"),r.a.createElement("td",null,"Control Target"),r.a.createElement("td",null,"?? A-D,",r.a.createElement("br",null),"1-6,",r.a.createElement("br",null),"FS1-4,",r.a.createElement("br",null),"EXP1-2"),r.a.createElement("td",null,"Direction"),r.a.createElement("td",null,"Increment: ??",r.a.createElement("br",null),"Decrement: ??"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--")),r.a.createElement("tr",null,r.a.createElement("td",{className:"ctrl-type"},"OFF"),r.a.createElement("td",{className:"ctrl-desc"},"Disable the control, do not action nor send anything"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"),r.a.createElement("td",{className:"italic"},"not used"),r.a.createElement("td",null,"--"))))),r.a.createElement("h1",null,"In case of problem"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Try the following:"),r.a.createElement("p",null,"- Check the MIDI configuration."),r.a.createElement("p",null,"- Reload the editor (F5 or Cmd-R or Ctrl-R)"),r.a.createElement("p",null,"- Restart the Pacer."),r.a.createElement("p",null,"- Close any other applications that may be connected to the Pacer."),r.a.createElement("p",null,"If you mess up the configuration of your Pacer, do a ",r.a.createElement("span",{className:"fluo"},"Factory Restore"),". See page 21 of the Pacer User Guide for the procedure.")),r.a.createElement("h1",null,"MIDI in your browser"),r.a.createElement("div",{className:"doc"},r.a.createElement("div",null,r.a.createElement("p",null,"You need to allow your browser to use your MIDI device:"),r.a.createElement("img",{src:"help-01.png",alt:""})),r.a.createElement("div",null,r.a.createElement("p",null,"In case you didn't allow the use of MIDI device and want to change that, you can right-click on the URL icon and change the setting:"),r.a.createElement("img",{src:"help-02.png",alt:""}))),r.a.createElement("h1",null,"FAQ"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,r.a.createElement("i",null,"To be completed..."))),r.a.createElement("h1",null,"Known issues"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,'- The preset D6 can not be read by sending a "read preset" sysex. You have to dump it from the Pacer.'),r.a.createElement("p",null,"- LED configuration is displayed for external footswitch and expression pedals.")),r.a.createElement("h1",null,"Contribute"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"This editor is an Open Source project. You are welcome to contribute."),r.a.createElement("p",null,"The source-code is hosted by GitHub: ",r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"pacer-editor")),r.a.createElement("p",null,"To contribute your bug fixes, new features, etc.: 1) fork the project, 2) create a pull-request.")),r.a.createElement("h1",null,"Thanks"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Thank you to the Nektar support service for having provided precious informations regarding the SysEx data format of the Pacer. This editor would not have been possible without their support.")))}}]),a}(n.Component),lt=(a(57),a(37),a(16)),st=function(e){var t=parseInt(e);if(0===t)return"current";var a=Math.floor((t-1)/6),n=(t-1)%6+1;return String.fromCharCode(a+65)+n.toString()};function ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var it=function(e){var t=e.settings;return null===t||void 0===t?null:r.a.createElement("div",{className:"dump-control"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,className:"name"},"MIDI settings")),Object.keys(t).map(function(e){var a=he[t[e].msg_type];return 67===t[e].msg_type&&(a=a+" "+lt.a(t[e].data[0],!0)+" vel. "+t[e].data[1]),r.a.createElement("tr",{key:e},r.a.createElement("td",null,"settings ",e),r.a.createElement("td",null,"ch. ",Re(t[e].channel)),r.a.createElement("td",null,"msg ",Re(t[e].msg_type)),r.a.createElement("td",null,a),r.a.createElement("td",null,Se(t[e].data)),r.a.createElement("td",null,t[e].active?"active":"OFF"))}))))},ut=function(e){var t=e.settings;return null===t?null:r.a.createElement("div",null,r.a.createElement(it,{settings:t}))},mt=function(e){var t=e.obj,a=e.config;return null===a||void 0===a?null:r.a.createElement("div",{className:"dump-control"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:10,className:"name"},oe[t])),r.a.createElement("tr",null,r.a.createElement("th",null,"step"),r.a.createElement("th",null,"ch."),r.a.createElement("th",null,"type"),r.a.createElement("th",null,"data"),r.a.createElement("th",null,"decoded"),r.a.createElement("th",null,"active"),r.a.createElement("th",null,"LED num"),r.a.createElement("th",null,"LED On"),r.a.createElement("th",null,"LED Off"),r.a.createElement("th",null,"LED midi")),Object.keys(a.steps).map(function(e){var n=he[a.steps[e].msg_type];67===a.steps[e].msg_type&&(n=n+" "+lt.a(a.steps[e].data[0],!0)+" vel. "+a.steps[e].data[1]);var c=a.steps[e].led_inactive_color,l=a.steps[e].led_active_color;return r.a.createElement("tr",{key:"".concat(t,".").concat(e)},r.a.createElement("td",null,e),r.a.createElement("td",null,Re(a.steps[e].channel)),r.a.createElement("td",null,Re(a.steps[e].msg_type)),r.a.createElement("td",null,Se(a.steps[e].data)),r.a.createElement("td",null,n),r.a.createElement("td",null,a.steps[e].active?"active":"OFF"),r.a.createElement("td",null,Re(a.steps[e].led_num)),r.a.createElement("td",null,l in Ce?Ce[l]:Re(l)),r.a.createElement("td",null,c in Ce?Ce[c]:Re(c)),r.a.createElement("td",null,Re(a.steps[e].led_midi_ctrl)))}),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:10},"control mode: ",De[a.control_mode])))))},dt=function(e){var t=e.controls;return null===t||void 0===t?null:r.a.createElement("div",{className:"dump-controls"},Object.keys(t).map(function(e){return r.a.createElement(mt,{key:e,obj:e,config:t[e]})}))},pt=function(e){var t=e.index,a=e.data;return null===a||void 0===a?null:r.a.createElement("div",null,r.a.createElement("h3",null,"Preset ",st(parseInt(t,10))," (#",t,"): ",a.name),r.a.createElement(dt,{controls:a.controls}),r.a.createElement(ut,{settings:a.midi}))},ht=function(e){Object(i.a)(a,e);var t=ot(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.state.data;return e?(console.log("DumpSysex render"),r.a.createElement("div",{className:"dump code"},r.a.createElement("div",null,Object.keys(e[B]).map(function(t){return r.a.createElement(pt,{key:t,index:t,data:e[B][t]})})))):null}}]),a}(n.Component),ft=Object(d.b)("state")(Object(d.c)(ht));function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}function Et(e,t){return"number"===typeof t?"0x"+Re(t):t}function bt(e){return null===e?null:[Me].concat(Object(Pe.a)(A),Object(Pe.a)(e),[Ae])}var gt=function(e){Object(i.a)(a,e);var t=vt(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={output:null,data:null,messages:[{name:"read current preset",message:Xe(0),bytesExpected:189},{name:"read preset A1",message:Xe(1),bytesExpected:189},{name:"read stompswitch #1 of preset #5",message:Je(5,13),bytesExpected:7},{name:"read all presets (takes some time)",message:ze(),bytesExpected:4536}],customMessage:""},e.showBusy=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(t.busy,t.busyMessage),n=void 0===a?null:a,r=t.bytesExpected,c=void 0===r?-1:r,l=t.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return e.props.onBusy({busy:!1})},2e4),e.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},e.updateCustomMessage=function(t){var a=(t.target.value.toUpperCase().match(/[0-9A-F ]+/g)||[]).join("");e.setState({customMessage:a})},e.getCustomMessageData=function(){if(e.state.customMessage&&""!==e.state.customMessage){var t=Ie(e.state.customMessage,/ /g);if(t){var a=Array.from(t);if(a&&a.length>0)return a.push(He(a)),[F].concat(Object(Pe.a)(t))}}return null},e.sendCustomMessage=function(){var t=e.getCustomMessageData();t&&t.length>0&&(e.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:-1}),e.sendSysex(t))},e.sendMessage=function(t){e.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:t.bytesExpected}),e.props.state.sendSysex(t.message)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;console.log("Debug render");for(var t=this.state,a=t.messages,n=t.customMessage,c=this.props.state.data,l=He(Ie(n,/ /g)),s="",o=(n.toUpperCase().match(/[0-9A-F]+/g)||[]).join(""),i=0;i<o.length;i++)i>0&&i%2===0&&(s+=" "),s+=o[i];var u=bt(this.getCustomMessageData())?JSON.stringify(Ye(Uint8Array.from(bt(this.getCustomMessageData()))),Et,4):"";return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-row-content"},r.a.createElement("div",{className:"debug"},r.a.createElement("pre",null,JSON.stringify(c,null,4)))),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Test messages:"),r.a.createElement("div",{className:"content-row-content-content"},a.map(function(t,a){return r.a.createElement("div",{key:a,className:"send-message"},r.a.createElement("button",{onClick:function(){return e.sendMessage(t)}},"send"),r.a.createElement("span",{className:"code light"},Se(A.concat(t.message.slice(0,1)))," "),r.a.createElement("span",{className:"code"},Se(t.message.slice(1,-1))," "),r.a.createElement("span",{className:"code light"}," ",Se(t.message.slice(-1))),r.a.createElement("span",{className:"message-name"}," ",t.name))}))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Custom message:"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"send-message"},r.a.createElement("button",{onClick:this.sendCustomMessage,disabled:o.length%2!==0},"send"),r.a.createElement("span",{className:"code light"},Se(A)," ",Se(F)," "),r.a.createElement("input",{type:"text",className:"code",size:"80",value:n,placeholder:"hex digits only",onChange:this.updateCustomMessage}),r.a.createElement("span",{className:"code light"}," ",Re(l))),r.a.createElement("div",{className:"custom-message code"},r.a.createElement("span",{className:"code light"},Se(A)," ",Se(F))," ",s," ",r.a.createElement("span",{className:"code light"},Re(l))),r.a.createElement("div",{className:"debug"},u?r.a.createElement("pre",null,u):r.a.createElement("div",null,"Invalid message. Send at your own risk.")))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Response:"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"message code"},r.a.createElement(ft,{data:c})))),r.a.createElement("div",{className:"content-row-content"})))}}]),a}(n.Component),yt=Object(d.b)("state")(Object(d.c)(gt));a(60);function Ot(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var jt=function(e){var t=e.name,a=e.controlIndex,n=e.selected,c=e.onSelect;return r.a.createElement("div",{className:n?"selector selected":"selector",onClick:function(){return c(a)}},r.a.createElement("div",{className:"name"},t))},Nt=function(e){Object(i.a)(a,e);var t=Ot(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).selectControl=function(t){e.props.state.selectControl(t)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.currentControl;return r.a.createElement("div",{className:"controls"},me.map(function(a){return r.a.createElement(jt,{key:a,name:se[a],controlIndex:a,selected:a===t,onSelect:e.selectControl})}),de.map(function(a){return r.a.createElement(jt,{key:a,name:se[a],controlIndex:a,selected:a===t,onSelect:e.selectControl})}),r.a.createElement("div",{className:"no-control"},"\xa0"),ie.map(function(a){return r.a.createElement(jt,{key:a,name:se[a],controlIndex:a,selected:a===t,onSelect:e.selectControl})}),r.a.createElement("div",{className:"no-control"},"\xa0"),ue.map(function(a){return r.a.createElement(jt,{key:a,name:se[a],controlIndex:a,selected:a===t,onSelect:e.selectControl})}))}}]),a}(n.Component),Ct=Object(d.b)("state")(Object(d.c)(Nt)),wt=a(14);a(62);function xt(e){switch(parseInt(e)){case H:case W:case V:case Y:case z:case X:case J:case K:case q:case Q:return ye;case $:case ee:case te:case ae:return Oe;case ne:case re:return je;default:return[]}}var Dt=function(e){var t=e.msgType,a=e.value,n=e.dataIndex,c=e.onChange;if(!ge[t][n])return"";switch(t){case pe:return"";case 67:case 68:return 0!==n?r.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(n,e.target.value)}}):r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)},className:"notes"},Array.from(Array(127).keys()).map(function(e){var t=lt.a(e,!0);return r.a.createElement("option",{key:e,value:e},t," (",e,")")}));case 99:return 0===n?r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},U.map(function(e,t){return e?r.a.createElement("option",{key:t,value:t},e):null})):r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},r.a.createElement("option",{value:1},"1"),r.a.createElement("option",{value:2},"2"),r.a.createElement("option",{value:3},"3"),r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:6},"6"));case 100:return 0!==n?r.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(n,e.target.value)}}):r.a.createElement("select",{value:a,onChange:function(e){return c("data",n,e.target.value)}},U.map(function(e,t){return e?r.a.createElement("option",{key:t,value:t},e):null}));case 89:return 0===n?r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},r.a.createElement("option",{value:0},"Auto detect"),r.a.createElement("option",{value:1},"Normally open"),r.a.createElement("option",{value:2},"Normally closed"),r.a.createElement("option",{value:3},"Latching")):r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},r.a.createElement("option",{value:0},"Relay 1"),r.a.createElement("option",{value:1},"Relay 2"),r.a.createElement("option",{value:2},"Relay 3"),r.a.createElement("option",{value:3},"Relay 4"));case 98:case 23:return 0===n?r.a.createElement("select",{value:a,onChange:function(e){return c(n,e.target.value)}},G.map(function(e,t){return r.a.createElement("option",{key:t,value:t},e)})):"";case 0:case 3:case 4:case 1:case 2:case 126:case 71:case 64:case 72:case 69:case 70:case 87:case 88:case 85:case 86:case 18:case 17:case 21:case 22:case 19:case 20:case 16:case 24:case 101:default:return r.a.createElement("input",{type:"text",value:a,onChange:function(e){return c(n,e.target.value)}})}};function Pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var kt=function(e){var t=e.current_value,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},r.a.createElement("option",{value:"0"},"0"),r.a.createElement("option",{value:"1"},"1"))},Rt=function(e){var t=e.current_value,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},Object.keys(Ce).map(function(e){return r.a.createElement("option",{key:e,value:e},Ce[e])}))},St=function(e){var t=e.current_value,a=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return a(e.target.value)}},r.a.createElement("option",{value:"0"},"default"),r.a.createElement("option",{value:"3"},"top"),r.a.createElement("option",{value:"2"},"middle"),r.a.createElement("option",{value:"1"},"bottom"))},It=Object(d.c)(function(e){var t,a,c,l=e.presetIndex,s=e.controlId,o=e.stepIndex,i=e.config,u=function(e,t){$e.updateControlStep(s,o,"data",e,t,l)},m=function(e,t){$e.updateControlStep(s,o,e,null,t,l)};return i.msg_type===pe?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"step-row-header"},"Step ",o,":"),r.a.createElement("div",null,r.a.createElement("select",{value:i.msg_type,onChange:function(e){return $e.updateControlStepMessageType(s,o,e.target.value,l)}},xt(s).map(function(e){return r.a.createElement("option",{key:e,value:e},fe[e])}))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):i.data?(t=r.a.createElement(Dt,{msgType:i.msg_type,value:i.data[0],dataIndex:0,onChange:u}),a=r.a.createElement(Dt,{msgType:i.msg_type,value:i.data[1],dataIndex:1,onChange:u}),c=r.a.createElement(Dt,{msgType:i.msg_type,value:i.data[2],dataIndex:2,onChange:u}),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"step-row-header"},"Step ",o,":"),r.a.createElement("div",null,r.a.createElement("select",{value:i.msg_type,onChange:function(e){return $e.updateControlStepMessageType(s,o,e.target.value,l)}},xt(s).map(function(e){return r.a.createElement("option",{key:e,value:e},fe[e])}))),r.a.createElement("div",null,t,r.a.createElement("div",{className:"data-help"},be[i.msg_type]?be[i.msg_type][0]:"")),r.a.createElement("div",null,a,r.a.createElement("div",{className:"data-help"},be[i.msg_type]?be[i.msg_type][1]:"")),r.a.createElement("div",null,c,r.a.createElement("div",{className:"data-help"},be[i.msg_type]?be[i.msg_type][2]:"")),r.a.createElement("div",null,r.a.createElement("select",{value:i.channel,onChange:function(e){return t=e.target.value,void $e.updateControlStep(s,o,"channel",null,t,l);var t}},Array.from(Array(17).keys()).map(function(e){return r.a.createElement("option",{key:e,value:e},0===e?"global":e)}))),r.a.createElement("div",null,r.a.createElement(Rt,{current_value:i.led_inactive_color,onChange:function(e){return m("led_inactive_color",e)}})),r.a.createElement("div",null,r.a.createElement(Rt,{current_value:i.led_active_color,onChange:function(e){return m("led_active_color",e)}})),r.a.createElement("div",null,r.a.createElement(St,{current_value:i.led_num,onChange:function(e){return m("led_num",e)}})),r.a.createElement("div",null,r.a.createElement(kt,{current_value:i.led_midi_ctrl,onChange:function(e){return m("led_midi_ctrl",e)}})))):null}),Mt=function(e){Object(i.a)(a,e);var t=Pt(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.data[B][this.props.presetIndex][Fe][this.props.controlId].steps;return r.a.createElement("div",{className:"steps"},r.a.createElement("div",null),r.a.createElement("div",{className:"step-col-header"},"Type"),r.a.createElement("div",{className:"step-col-header"},"Data 1"),r.a.createElement("div",{className:"step-col-header"},"Data 2"),r.a.createElement("div",{className:"step-col-header"},"Data 3"),r.a.createElement("div",{className:"step-col-header"},"MIDI Ch."),r.a.createElement("div",{className:"step-col-header"},"LED Off"),r.a.createElement("div",{className:"step-col-header"},"LED On"),r.a.createElement("div",{className:"step-col-header"},"LED Num"),r.a.createElement("div",{className:"step-col-header"},"LED MIDI"),Object.keys(t).map(function(a){return r.a.createElement(It,{key:a,presetIndex:e.props.presetIndex,controlId:e.props.controlId,stepIndex:a,config:t[a]})}))}}]),a}(n.Component),At=Object(d.b)("state")(Object(d.c)(Mt)),Ft=a(13),Tt=(a(66),function(e){return r.a.createElement("div",{className:"control-mode"},r.a.createElement("span",{className:"step-row-header"},"Control mode:"),r.a.createElement("select",{onChange:function(t){return e.onUpdate(t.target.value)},value:e.mode},Object.keys(De).map(function(e){return r.a.createElement("option",{key:e,value:e},De[e])})))});function _t(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Bt=function(e){Object(i.a)(a,e);var t=_t(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onNameUpdate=function(t){e.props.state.updatePresetName(e.props.state.currentPresetIndex,t.target.value.length>5?t.target.value.substr(0,5):t.target.value)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.state.currentPresetIndex,t=this.props.state.data[B][e].name;return r.a.createElement("div",{className:"preset-name-editor"},r.a.createElement("label",null,"Name:")," ",r.a.createElement("input",{value:t,onChange:this.onNameUpdate,size:8}),"max 5 characters")}}]),a}(n.Component),Lt=Object(d.b)("state")(Object(d.c)(Bt));a(68);function Ut(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Gt=Object(d.c)(function(e){var t=e.xyId,a=e.presetIndex,n=e.hasData,c=e.name,l=e.onClick,s="selector",o=a===$e.currentPresetIndex;return o&&(s+=" selected"),!o&&n&&(s+=" loaded"),"CURRENT"===t&&c?r.a.createElement("div",{className:s,onClick:function(){return l(a)}},"CUR: ",c):r.a.createElement("div",{className:s,onClick:function(){return l(a)}},r.a.createElement("span",{className:"preset-id"},t)," ",r.a.createElement("span",{className:"preset-name"},c))}),Zt=function(e){Object(i.a)(a,e);var t=Ut(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).selectPreset=function(t){e.props.state.selectPreset(t);var a=e.props.state.data;"24"!==t?!e.props.state.forceReread&&a&&a[B]&&a[B][t]||e.props.state.readPreset(t,"reading Pacer..."):e.props.state.showD6Info()},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state,a=t.data,c=t.currentPresetIndex,l=a&&a[B]&&a[B][0]?a[B][0].name:"";return r.a.createElement("div",null,r.a.createElement("div",{className:"selectors"},r.a.createElement("div",{className:"preset-selectors"},r.a.createElement(Gt,{xyId:"CURRENT",presetIndex:"0",name:l,xselected:!!c,onClick:this.selectPreset,key:0}),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",{className:"force-read"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:this.props.state.forceReread,onChange:this.props.state.toggleForceReread}),"Always read from Pacer")),["A","B","C","D"].map(function(t){return r.a.createElement(n.Fragment,{key:t},Array.from(Array(6).keys()).map(function(n){var c,l=t+(n+1),s=(6*((c=l).charCodeAt(0)-65)+parseInt(c[1],10)).toString(),o=a&&a[B]&&a[B][s],i=o?a[B][s].name:"";return r.a.createElement(Gt,{xyId:l,presetIndex:s,hasData:o,name:i,key:s,onClick:e.selectPreset})}))}))))}}]),a}(n.Component),Ht=Object(d.b)("state")(Object(d.c)(Zt));function Wt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Vt=function(e){Object(i.a)(a,e);var t=Wt(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onInputFile=function(e){n.inputOpenFileRef.current.click()},n.onChangeFile=function(e){var t=e.target.files[0];t&&n.props.state.readFiles([t])},n.clearData=function(){n.props.state.clear()},n.inputOpenFileRef=r.a.createRef(),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.data,a=this.props.state.connected,n=this.props.state.connected&&this.props.state.changed;return r.a.createElement("div",{className:"preset-buttons"},a&&r.a.createElement("button",{className:"read",onClick:function(){return e.props.state.readPacer(ze(),4536,"Reading Pacer...")},title:"Read all presets from Pacer"},"Read Pacer"),!a&&r.a.createElement("div",null),n&&r.a.createElement("button",{className:"update",onClick:function(){return e.props.state.updatePacer()}},"Update Pacer"),!n&&r.a.createElement("div",null),r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{onClick:this.onInputFile},"Load preset(s) from file"),r.a.createElement("div",null),t&&r.a.createElement("button",{onClick:this.clearData},"CLEAR ALL"),!t&&r.a.createElement("div",null),r.a.createElement("div",null))}}]),a}(n.Component),Yt=Object(d.b)("state")(Object(d.c)(Vt)),zt=Object(d.c)(function(){return r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Presets"),r.a.createElement("div",{className:"row align-bottom"},r.a.createElement("div",null,r.a.createElement("div",{className:"row align-bottom"},r.a.createElement(Ht,null),r.a.createElement(Yt,null)),$e.D6InfoVisible&&r.a.createElement("div",{className:"d6info"},"Due to a yet unsolved problem, the editor can not read the preset D6. ",r.a.createElement("br",null),"However, you can ask the Pacer to send the preset. Use the encoder knob to select DUMP",r.a.createElement("br",null),"in the top-level menu and then send either a full dump or only the D6 preset.",r.a.createElement("div",{className:"dismiss",onClick:function(){return $e.hideD6Info()}},"[hide]")))))}),Xt=Object(d.c)(function(){return $e.updateMessages&&Object.getOwnPropertyNames($e.updateMessages).length?r.a.createElement("div",{className:"messages-to-send"},r.a.createElement("div",{className:"update-messages-title"},"Updates that will be sent to the Pacer:"),Object.getOwnPropertyNames($e.updateMessages).map(function(e,t){return Object.getOwnPropertyNames($e.updateMessages[e]).map(function(t,a){return Object.getOwnPropertyNames($e.updateMessages[e][t]).map(function(a,n){return function(e,t,a,n){switch(t){case"controls":return r.a.createElement("div",{key:"".concat(e,"-").concat(a,"-ctrl")},"- preset ",st(e),", control ",oe[a]);case"midi":return r.a.createElement("div",{key:"".concat(e,"-").concat(a,"-midi")},"- preset ",st(e),", midi");case"name":return r.a.createElement("div",{key:"".concat(e,"-").concat(a,"-name")},"- preset ",st(e),", name");default:return null}}(e,t,a,$e.updateMessages[e][t][a])})})})):null});a(38);function Jt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}Object(wt.b)(!1);var Kt=function(e){Object(i.a)(a,e);var t=Jt(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.props.state.changed=!0,n.setState({dropZoneActive:!1},function(){n.props.state.readFiles(e)})},n.updateControlMode=function(e,t){n.props.state.setControlMode(parseInt(t,10))},n.copyPresetFrom=function(e,t){},n.state={dropZoneActive:!1,copyPresetFrom:"-1"},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.currentPresetIndex,a=this.props.state.currentControl,c=this.props.state.data,l=j(t)&&c&&B in c&&t in c[B]&&Fe in c[B][t]&&a in c[B][t][Fe]&&"steps"in c[B][t][Fe][a]&&6===Object.keys(c[B][t][Fe][a].steps).length,s="";c&&B in c&&t in c[B]&&"name"in c[B][t]&&(s=st(t)+": "+c[B][t].name);j(t);return r.a.createElement(Ft.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},this.state.dropZoneActive&&r.a.createElement("div",{style:M},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement(zt,null),c&&c[B][t]&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Preset ",s),r.a.createElement(Lt,null)),c&&c[B][t]&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement(n.Fragment,null,j(t)&&r.a.createElement(Ct,null),l&&r.a.createElement("h3",null,oe[a],":"),l&&r.a.createElement(Tt,{controlId:a,mode:c[B][t][Fe][a].control_mode,onUpdate:function(t){return e.updateControlMode(a,t)}}),l&&r.a.createElement(At,{presetIndex:t,controlId:a}),!j(t)&&r.a.createElement("div",{className:"please"},"Select a preset."))),this.props.state.changed&&0!==this.props.state.midi.output&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"update",onClick:function(){return e.props.state.updatePacer()}},"Update Pacer"))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement(Xt,null)))))}}]),a}(n.Component),qt=Object(d.b)("state")(Object(d.c)(Kt));a(71);function Qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var $t=function(e){Object(i.a)(a,e);var t=Qt(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"monitor-link"},"Please use the new MIDI monitor available at ",r.a.createElement("a",{href:"https://studiocode.dev/midi-monitor/",target:"_blank",rel:"noopener noreferrer"},"https://studiocode.dev/midi-monitor/")))}}]),a}(n.Component),ea=(a(73),function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"gh"},r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"Source code available on GitHub")),r.a.createElement("div",null,r.a.createElement("p",null,"This web site is not endorsed by, directly affiliated with, maintained, or sponsored by Nektar Technology. This web site is published under ",r.a.createElement("a",{href:"https://www.gnu.org/licenses/gpl-3.0.en.html",target:"_blank",rel:"noopener noreferrer"},"GNU General Public License v3"),".")))}),ta=a(18),aa=a(19),na=a(21),ra=a(20),ca=a(22),la=function(e){function t(){return Object(ta.a)(this,t),Object(na.a)(this,Object(ra.a)(t).apply(this,arguments))}return Object(ca.a)(t,e),Object(aa.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"doc",style:{marginTop:"16px"}},"Sorry, this feature is not implemented yet."))}}]),t}(n.Component),sa=a(25),oa=a.n(sa),ia=a(33),ua=(a(76),function(e,t,a){var n,r=[];return function(){clearTimeout(n);var c=arguments[0];c.data[0]===Me?(r.push(c.data),t(r.length),n=setTimeout(function(){console.log("batchMessages: timeout elapsed"),n=null,e(r),r=[]},a)):console.log("non sysex message ignored")}});a(78);function ma(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var da=function(e){Object(i.a)(a,e);var t=ma(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleMidiInputEvent=ua(function(t){var a=e.props.state.data,n=!0,r=!1,c=void 0;try{for(var l,s=t[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var o=l.value;We(o)?a=Ze(a||{},Ye(o)):console.log("MIDI message is not a sysex message",Se(o))}}catch(i){r=!0,c=i}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}console.log("merge done"),e.props.state.data=a,e.props.state.onBusy({busy:!1})},function(t){e.props.state.onBusy({busy:!0,bytesReceived:t})},1e3),e.connectInput=function(t){t&&(t.hasListener("sysex","all",e.handleMidiInputEvent)?console.log("Midi.connectInput: sysex messages on all channels listener already connected"):(console.log("Midi.connectInput: add listener for sysex messages on all channels"),t.addListener("sysex","all",e.handleMidiInputEvent),console.log("connectInput: ",t.name)))},e.disconnectInput=function(e){e&&(e.removeListener&&e.removeListener(),console.log("disconnectInput: input ".concat(e.id," disconnected")))},e.connectOutput=function(e){e&&console.log("connectOutput: output ".concat(e.id," connected"))},e.disconnectOutput=function(){console.log("disconnectOutput: output disconnected")},e.autoConnectInput=function(){if(e.props.autoConnect&&(console.log("Midi.autoConnectInput: autoConnect ".concat(e.props.autoConnect)),!e.props.state.midi.input)){var t=!0,a=!1,n=void 0;try{for(var r,c=e.props.state.midi.inputs[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var l=r.value;if("input"===l.type&&null!=l.name.match(new RegExp(e.props.autoConnect,"i"))){console.log("Midi.autoConnectInput: connect ".concat(l.name)),e.setState({input:l.id}),e.props.state.midi.input=l.id,e.connectInput(l);break}}}catch(s){a=!0,n=s}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}}},e.autoConnectOutput=function(){if(e.props.autoConnect&&(console.log("Midi.autoConnectOutput: autoConnect ".concat(e.props.autoConnect)),!e.props.state.midi.output)){var t=!0,a=!1,n=void 0;try{for(var r,c=e.props.state.midi.outputs[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var l=r.value;if("output"===l.type&&null!=l.name.match(new RegExp(e.props.autoConnect,"i"))){console.log("Midi.autoConnectOutput: autoConnect: auto-connect ".concat(l.name)),e.props.state.midi.output=l.id,e.connectOutput(l);break}}}catch(s){a=!0,n=s}finally{try{t||null==c.return||c.return()}finally{if(a)throw n}}}},e.registerInputs=function(){e.props.state.midi.inputs=E.inputs.filter(function(t){return null!=t.name.match(new RegExp(e.props.only,"i"))}),e.autoConnectInput()},e.registerOutputs=function(){e.props.state.midi.outputs=E.outputs.filter(function(t){return null!=t.name.match(new RegExp(e.props.only,"i"))}),e.autoConnectOutput()},e.unRegisterInputs=function(){console.log("Midi.unRegisterInputs"),e.disconnectInput(g(e.props.state.midi.input)),e.props.state.midi.input=null,e.props.state.midi.inputs=[]},e.unRegisterOutputs=function(){console.log("Midi.unRegisterOutputs"),e.disconnectOutput(),e.props.state.midi.output=null,e.props.state.midi.outputs=[]},e.handleMidiConnectEvent=function(t){"disconnected"===t.type&&(e.disconnectInput(t.port.id),e.disconnectOutput()),t.port.name.match(new RegExp(e.props.only,"i"))?("input"===t.port.type&&e.registerInputs(),"output"===t.port.type&&e.registerOutputs()):console.log("Midi.handleMidiConnectEvent: port ignored: ".concat(t.port.name))},e.selectInputPort=function(t){e.props.state.midi.input&&e.disconnectInput(g(e.props.state.midi.input));var a=g(t.target.value);a?(e.props.state.midi.input=a.id,e.connectInput(a)):console.warn("selectInputPort: port not found",t.target.value)},e.selectOutputPort=function(t){e.props.state.midi.output&&e.disconnectOutput(g(e.props.state.midi.output));var a=g(t.target.value);a?(e.props.state.midi.output=a.id,e.connectOutput(a)):console.warn("selectOutputPort: port not found",t.target.value)},e.midiOn=function(t){t?console.warn("Midi.midiOn: WebMidi could not be enabled.",t):(console.log("Midi.midiOn: WebMidi enabled"),E.addListener("connected",e.handleMidiConnectEvent),E.addListener("disconnected",e.handleMidiConnectEvent))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log("Midi: component did mount: WebMidi.enabled=".concat(E.enabled)),E.enabled?(console.log("Midi: component did mount: already enabled, register ports"),this.registerInputs(),this.registerOutputs()):E.enable(this.midiOn,!0)}},{key:"componentWillUnmount",value:function(){console.log("Midi: component will unmount: unregister ports"),this.unRegisterInputs(),this.unRegisterOutputs()}},{key:"render",value:function(){return r.a.createElement("div",{className:"midi-ports"},r.a.createElement("div",{className:"midi-port-label"},"MIDI input:"),r.a.createElement("select",{value:this.props.state.midi.input,onChange:this.selectInputPort},r.a.createElement("option",{value:0},"- select -"),this.props.state.midi.inputs.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement("div",{className:"midi-port-label"},"MIDI output:"),r.a.createElement("select",{value:this.props.state.midi.output,onChange:this.selectOutputPort},r.a.createElement("option",{value:0},"- select -"),this.props.state.midi.outputs.map(function(e,t){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))}}]),a}(n.Component),pa=Object(d.b)("state")(Object(d.c)(da)),ha=a(34),fa=a.n(ha),va=function(e){var t=e.groupedPorts,a=e.clickHandler;return r.a.createElement("div",{className:"ports-grid"},Object.keys(t).map(function(e,c){return r.a.createElement("div",{className:"port",key:c},r.a.createElement("div",{className:"port-name"},e),t[e].input&&r.a.createElement("div",{className:"port-switch"},r.a.createElement(n.Fragment,null,"in\xa0",r.a.createElement(fa.a,{onChange:function(){return a(t[e].input.id)},checked:t[e].input.selected,className:"react-switch",id:"switch-".concat(t[e].input.id),height:16,width:36}))),t[e].output&&r.a.createElement("div",{className:"port-switch"},r.a.createElement(n.Fragment,null,"out\xa0",r.a.createElement(fa.a,{onChange:function(){return a(t[e].output.id)},checked:t[e].output.selected,className:"react-switch",id:"switch-".concat(t[e].output.id),height:16,width:36}))))}))},Ea=function(e){function t(){var e,a;Object(ta.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(na.a)(this,(e=Object(ra.a)(t)).call.apply(e,[this].concat(r)))).state={data:null},a.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),n=void 0===t?null:t,r=e.bytesExpected,c=void 0===r?-1:r,l=e.bytesReceived,s=void 0===l?-1:l;setTimeout(function(){return a.props.onBusy({busy:!1})},2e4),a.props.onBusy({busy:!0,busyMessage:n,bytesExpected:c,bytesReceived:s})},a.hideBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e<1?a.props.onBusy({busy:!1}):setTimeout(function(){return a.props.onBusy({busy:!1})},e)},a.onDragEnter=function(){a.setState({dropZoneActive:!0})},a.onDragLeave=function(){a.setState({dropZoneActive:!1})},a.onDrop=function(e){a.setState({dropZoneActive:!1},function(){a.readFiles(e)})},a.handleMidiInputEvent=function(e){We(e.data)?a.setState(Object(wt.a)(function(t){t.data=Ze(t.data||{},Ye(e.data))})):console.log("MIDI message is not a sysex message")},a}return Object(ca.a)(t,e),Object(aa.a)(t,[{key:"readFiles",value:function(){var e=Object(ia.a)(oa.a.mark(function e(t){var a=this;return oa.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(ia.a)(oa.a.mark(function e(t){var n;return oa.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>5242880)){e.next=5;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),a.hideBusy(),e.next=13;break;case 5:return a.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=9,new Response(t).arrayBuffer();case 9:e.t1=e.sent,We(n=new e.t0(e.t1))?a.setState(Object(wt.a)(function(e){e.data=Ze(e.data||{},Ye(n))})):console.log("readFiles: not a sysfile",Se(n.slice(0,5))),a.hideBusy();case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,a=e.dropZoneActive;return r.a.createElement(Ft.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},a&&r.a.createElement("div",{style:M},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement(pa,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(va,{groupedPorts:e,clickHandler:t})},messageType:"sysex",onMidiInputEvent:this.handleMidiInputEvent},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"Send a dump from your Pacer or",r.a.createElement("br",null),"drag & drop a patch file here.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement(ft,{data:t})))))}}]),t}(n.Component);a(81);function ba(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var ga=function(e){var t=e.note,a=e.onChange;return r.a.createElement("select",{onChange:function(e){return a(e.target.value)},value:t},Array.from(Array(127).keys()).map(function(e){var t=lt.a(e,!0);return r.a.createElement("option",{key:e,value:e},t)}))},ya=Object(d.c)(function(e){var t,a,c,l=e.index,s=e.config;return s.msg_type===pe?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"setting-row-header"},"message ",l,":"),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return $e.updateMidiSettings(l,"msg_type",null,e.target.value)},value:s.msg_type},ve.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):s.data?(67===s.msg_type?(t=r.a.createElement(ga,{note:s.data[0],onChange:function(e){return $e.updateMidiSettings(l,"data",0,e)}}),a=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return $e.updateMidiSettings(l,"data",1,e.target.value)}}),c=""):(t=r.a.createElement("input",{type:"text",value:s.data[0],onChange:function(e){return $e.updateMidiSettings(l,"data",0,e.target.value)}}),a=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return $e.updateMidiSettings(l,"data",1,e.target.value)}}),c=r.a.createElement("input",{type:"text",value:s.data[2],onChange:function(e){return $e.updateMidiSettings(l,"data",2,e.target.value)}})),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"setting-row-header"},"Setting ",l,":"),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return $e.updateMidiSettings(l,"msg_type",null,e.target.value)},value:s.msg_type},ve.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null,t,r.a.createElement("div",{className:"data-help"},be[s.msg_type][0])),r.a.createElement("div",null,a,r.a.createElement("div",{className:"data-help"},be[s.msg_type][1])),r.a.createElement("div",null,c,r.a.createElement("div",{className:"data-help"},be[s.msg_type][2])),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return $e.updateMidiSettings(l,"channel",null,e.target.value)},value:s.channel},Array.from(Array(17).keys()).map(function(e){return r.a.createElement("option",{key:e,value:e},0===e?"global":e)}))))):null}),Oa=function(e){Object(i.a)(a,e);var t=ba(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.state.data[B][this.props.state.currentPresetIndex].midi;return r.a.createElement("div",{className:"settings"},r.a.createElement("div",null),r.a.createElement("div",{className:"setting-col-header"},"Type"),r.a.createElement("div",{className:"setting-col-header"},"Data 1"),r.a.createElement("div",{className:"setting-col-header"},"Data 2"),r.a.createElement("div",{className:"setting-col-header"},"Data 3"),r.a.createElement("div",{className:"setting-col-header"},"MIDI Ch."),Object.keys(e).map(function(t){return r.a.createElement(ya,{key:t,index:t,config:e[t]})}))}}]),a}(n.Component),ja=Object(d.b)("state")(Object(d.c)(Oa));function Na(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Ca=function(e){Object(i.a)(a,e);var t=Na(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.props.state.changed=!0,n.setState({dropZoneActive:!1},function(){n.props.state.readFiles(e)})},n.state={dropZoneActive:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.state.currentPresetIndex,a=this.props.state.data,n=!1;return this.props.state.data&&(n=B in a&&t in a[B]&&"midi"in a[B][t]&&16===Object.keys(a[B][t].midi).length),r.a.createElement(Ft.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},this.state.dropZoneActive&&r.a.createElement("div",{style:M},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement(zt,null),n&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Preset MIDI settings"),r.a.createElement(ja,null)),this.props.state.changed&&0!==this.props.state.midi.output&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Send the updated config to the Pacer"),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"update",onClick:function(){return e.props.state.updatePacer()}},"Update Pacer"))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement(Xt,null)))))}}]),a}(n.Component),wa=Object(d.b)("state")(Object(d.c)(Ca)),xa=function(e){function t(){var e,a;Object(ta.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(na.a)(this,(e=Object(ra.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=window.URL.createObjectURL(new Blob([a.props.data],{type:"application/octet-stream"})),n=a.props.filename;if(a.props.addTimestamp){var r=new Date;n+="."+(r.getUTCFullYear()+"-"+("0"+(r.getUTCMonth()+1)).slice(-2)+"-"+("0"+r.getUTCDate()).slice(-2)+"-"+("0"+r.getUTCHours()).slice(-2)+("0"+r.getUTCMinutes()).slice(-2)+("0"+r.getUTCSeconds()).slice(-2))}var c=document.createElement("a");c.download=n+".syx",c.style.display="none",c.href=t,document.body.appendChild(c),c.click(),document.body.removeChild(c),setTimeout(function(){return window.URL.revokeObjectURL(t)},1e3)},a}return Object(ca.a)(t,e),Object(aa.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick,className:this.props.className},this.props.label)}}]),t}(n.Component),Da=function(e){function t(){var e,a;Object(ta.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(na.a)(this,(e=Object(ra.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a.props.data)),n=a.props.filename;if(a.props.addTimestamp){var r=new Date;n+="."+(r.getUTCFullYear()+"-"+("0"+(r.getUTCMonth()+1)).slice(-2)+"-"+("0"+r.getUTCDate()).slice(-2)+"-"+("0"+r.getUTCHours()).slice(-2)+("0"+r.getUTCMinutes()).slice(-2)+("0"+r.getUTCSeconds()).slice(-2))}var c=document.createElement("a");c.download=n+".json",c.style.display="none",c.href=t,document.body.appendChild(c),c.click(),document.body.removeChild(c),setTimeout(function(){return window.URL.revokeObjectURL(t)},1e3)},a}return Object(ca.a)(t,e),Object(aa.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick,className:this.props.className},this.props.label)}}]),t}(n.Component),Pa=a(26);a(91);function ka(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Ra=function(e){Object(i.a)(a,e);var t=ka(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleMidiInputEvent=ua(function(e){var t=e.reduce(function(e,t){return e+t.length},0);n.setState(Object(wt.a)(function(a){var n=new Uint8Array(t),r=0,c=!0,l=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(c=(o=i.next()).done);c=!0){var u=o.value;n.set(u,r),r+=u.length,We(u)?a.data=Ze(a.data||{},Ye(u)):console.log("MIDI message is not a sysex message")}}catch(d){l=!0,s=d}finally{try{c||null==i.return||i.return()}finally{if(l)throw s}}if(null===a.bytes)a.bytes=n;else{var m=new Uint8Array(a.bytes.length+n.length);m.set(a.bytes),m.set(n,a.bytes.length),a.bytes=m}})),n.hideBusy()},function(e){},1e3),n.onChangeFile=function(e){var t=e.target.files[0];n.readFiles([t])},n.onInputFile=function(e){n.inputOpenFileRef.current.click()},n.onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.setState({dropZoneActive:!1},function(){n.readFiles(e)})},n.sendPatch=function(){if(n.state.output){var e=y(n.state.output);e?(n.showBusy({busy:!0,busyMessage:"sending patch..."}),function(e,t){if(null===e)return[];for(var a=[],n=0;!((n=e.indexOf(Me,n))<0);){n++;var r=e.indexOf(Ae,n),c=Array.from(e.slice(n,n+3)).map(function(e){return Re(e)}).join(" ");if(c!==ke.NEKTAR_TECHNOLOGY_INC)return console.log("parseSysexDump: dump does not contain a Nektar Pacer patch",n,r,c,"-",Se(e)),null;if(127!==e[n+3])return console.warn("parseSysexDump: invalid byte after manufacturer id: ".concat(e[n+1+3])),null;a.push(e.slice(n+3,r))}return a}(Array.from(n.state.bytes)).forEach(function(t){e.sendSysex(A,t)}),n.hideBusy(1e3)):console.warn("send: output ".concat(n.state.output," not found"))}else console.warn("no output enabled to send the message")},n.inputOpenFileRef=r.a.createRef(),n.state={data:null,bytes:null,dropZoneActive:!1,status:null},n}return Object(o.a)(a,[{key:"readFiles",value:function(){var e=Object(f.a)(h.a.mark(function e(t){var a=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(f.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=5;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),a.setState(Object(wt.a)(function(e){e.status={severity:"error",message:"The file ".concat(t.name," is too big.")}})),e.next=11;break;case 5:return e.t0=Uint8Array,e.next=8,new Response(t).arrayBuffer();case 8:e.t1=e.sent,We(n=new e.t0(e.t1))?a.setState(Object(wt.a)(function(e){if(null===e.bytes)e.bytes=n;else{var a=new Uint8Array(e.bytes.length+n.length);a.set(e.bytes),a.set(n,e.bytes.length),e.bytes=a}e.data=Ze(e.data||{},Ye(n)),e.status={severity:"info",message:"Patch file loaded: ".concat(t.name)}})):a.setState(Object(wt.a)(function(e){e.status={severity:"error",message:"The file ".concat(t.name," does not contain a patch (is not a binary sysex file)")}}));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.status,n=t.bytes,c=t.dropZoneActive,l=(this.props.state.midi.output,this.props.state.data),s=Pa.parse(window.location.search),o=!!s.debug&&"1"===s.debug;return r.a.createElement(Ft.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},c&&r.a.createElement("div",{style:M},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Patch content:"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"local-help"},"A patch is a full dump of the Pacer.",r.a.createElement("br",null),'Presets marked "no data" are ignored. They will NOT erase the preset config in your Pacer.')),r.a.createElement("div",{className:"patch-content"},Array.from(Array(25).keys()).map(function(e){var t=st(e),a=l&&l[B]&&l[B][e],n=a?l[B][e].name:"";return 0===e?null:r.a.createElement("div",{key:e},r.a.createElement("div",null,t),a?r.a.createElement("div",null,n):r.a.createElement("div",{className:"placeholder"},"no data"))})),a&&r.a.createElement("div",{className:"status ".concat(a.severity)},a.message),r.a.createElement("div",{className:"patch-actions"},r.a.createElement("div",null,r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{onClick:this.onInputFile},"Load patch from file")),r.a.createElement("div",null,"or"),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.sendSysex(ze(),4536)}},"Read patch from Pacer")),r.a.createElement("div",null,l&&r.a.createElement(xa,{data:n,filename:"pacer-patch",addTimestamp:!0,label:"Save patch to file"}),l&&o&&r.a.createElement(Da,{data:l,filename:"pacer-patch",addTimestamp:!0,label:"Save patch JSON to file",className:"space-left"})),r.a.createElement("div",null,l&&"or"),r.a.createElement("div",null,l&&r.a.createElement("button",{onClick:function(){return e.sendPatch()}},"Send patch to Pacer"))),l&&r.a.createElement("div",{className:"preset-buttons"},r.a.createElement("button",{onClick:this.clearData},"CLEAR"))))))}}]),a}(n.Component),Sa=(Object(d.b)("state")(Object(d.c)(Ra)),a(105));var Ia=Object(d.c)(function(e){var t=e.message,a=e.hexDisplay;if(null===t||void 0===t||t.constructor===Object&&0===Object.keys(t).length)return null;for(var c=t.msg_type,l=be[c],s=t.data,o=[null,null,null],i=0;i<3;i++)l[i]!==Ee&&(o[i]=a?Re(s[i]):s[i],0===i&&67===c&&(o[i]+=" ("+lt.a(s[i],!0)+")"));var u="";u=a?Re(t.channel):0===t.channel?"global ch.":"ch. ".concat(t.channel);var m=null,d=null;t.led_active_color&&t.led_inactive_color&&(m=127===t.led_active_color?0:t.led_active_color,d=127===t.led_inactive_color?0:t.led_inactive_color);var p=m>0&&d>0;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"overview-message"},r.a.createElement("div",{className:"overview-message-type"},function(e){if(null===e||void 0===e)return"";var t=e.data;switch(e.msg_type){case 0:return"CC".concat(t[0]," min ").concat(t[1]," max ").concat(t[2]);case 3:return"NRPN C max ".concat(t[0]," ").concat(t[1],": ").concat(t[2]);case 4:return"NRPN F max ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 1:return"PITCH min ".concat(t[1]," max ").concat(t[2]);case 2:return"AT CHAN min ".concat(t[1]," max ").concat(t[2]);case 126:return"DAW FUNC ".concat(t[0]);case pe:return"OFF";case 71:return"CC".concat(t[0]," toggle ").concat(t[1]," \u21c4 ").concat(t[2]);case 64:return"CC".concat(t[0]," ").concat("\u21e9").concat(t[1]," ").concat("\u21e7").concat(t[2]);case 72:return"CC".concat(t[0]," step ").concat(t[1]," to ").concat(t[2]);case 67:return"NOTE ".concat(t[0]," vel ").concat(t[1]);case 68:return"NOTE TOGGLE ".concat(t[0]," vel ").concat(t[1]);case 69:return"PRG BANK ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 70:return"PRG STEP ".concat(t[1]," to ").concat(t[2]);case 87:return"NRPN C ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 88:return"NRPN F ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 85:return"MMC ID ".concat(t[0]," cmd ").concat(t[1]);case 89:return"RELAY ".concat(t[1]," ").concat(Ne[t[0]]);case 98:return"PRESET SELECT ".concat(G[t[0]]);case 86:return"PRESET ".concat(t[0]?"DEC":"INC");case 99:return"".concat(U[t[0]]," step ").concat(t[1]);case 100:return"STEP ".concat(t[1]?"DEC":"INC"," '").concat(U[t[0]],"'");case 18:return"MSG_ENC_CC ".concat(t[0]," ").concat(t[1]," ").concat(t[2]);case 17:return"CC REL ".concat(t[0]);case 21:return"NRPN C max ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 22:return"NRPN F max ".concat(t[0]," ").concat(t[1],":").concat(t[2]);case 19:return"PITCH min ".concat(t[1]," max ").concat(t[2]);case 20:return"AT CHAN min ".concat(t[1]," max ").concat(t[2]);case 16:return"PRG ".concat(t[1]," to ").concat(t[2]);case 23:return"PRESET SEL ".concat(t[1]," to ").concat(t[2]);case 24:return"STEP SELECT '".concat(U[t[0]],"', ").concat(t[1]," to ").concat(t[2]);case 101:return"CC".concat(t[0]," ").concat(t[1]);default:return"?".concat(e.msg_type,"? ").concat(t[0]," ").concat(t[1]," ").concat(t[2])}}(t))),t.msg_type!==pe&&r.a.createElement("div",{className:"overview-message-ch-colors"},r.a.createElement("div",{className:"msg-midi-channel"},u),p&&r.a.createElement("div",{className:"overview-step-color"},r.a.createElement("div",{className:"color-on",style:{backgroundColor:we[m]},title:Ce[m]}),r.a.createElement("div",{className:"color-off",style:{backgroundColor:we[d]},title:Ce[d]}))))}),Ma=Object(d.c)(function(e){var t=e.step,a=e.hexDisplay;return null===t||void 0===t?null:0===t.active?null:r.a.createElement("div",{className:"overview-step"},r.a.createElement(Ia,{message:t,hexDisplay:a}))}),Aa=Object(Sa.a)(Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.history,a=e.presetIndex,n=e.controlIndex,c=e.control,l=e.hexDisplay,s=e.stompswitch,o=void 0===s||s;if(null===c||void 0===c)return null;if(!c.steps)return null;var i=Object.keys(c.steps).filter(function(e){return c.steps[e].active>0}).length;return r.a.createElement("div",{className:"overview-control ".concat(o?"stompswitch":""),onClick:function(){$e.selectPreset(a),$e.selectControl(n),t.push("/preset")},title:"click to edit"},r.a.createElement("div",{className:"control-header"},r.a.createElement("div",{className:"control-name"},se[n]),i>1&&r.a.createElement("div",null,De[c.control_mode])),Object.keys(c.steps).map(function(e){return r.a.createElement(Ma,{key:e,step:c.steps[e],hexDisplay:l})}))})),Fa=Object(d.c)(function(e){var t=e.presetIndex,a=e.controls,n=e.hexDisplay,c=e.extControls;if(null===a||void 0===a)return null;var l={presetIndex:t,hexDisplay:n};return r.a.createElement("div",{className:"overview-controls"},c&&me.map(function(e){return r.a.createElement(Aa,Object.assign({key:e,controlIndex:e,control:a[e]},l,{stompswitch:!1}))}),c&&de.map(function(e){return r.a.createElement(Aa,Object.assign({key:e,controlIndex:e,control:a[e]},l,{stompswitch:!1}))}),r.a.createElement("div",null),ie.map(function(e){return r.a.createElement(Aa,Object.assign({key:e,controlIndex:e,control:a[e]},l))}),r.a.createElement("div",null),ue.map(function(e){return r.a.createElement(Aa,Object.assign({key:e,controlIndex:e,control:a[e]},l))}))}),Ta=Object(d.c)(function(e){var t=e.setting,a=e.hexDisplay;return null===t||void 0===t?null:t.msg_type?t.msg_type===pe?null:r.a.createElement("div",{className:"overview-midi"},r.a.createElement(Ia,{message:t,hexDisplay:a})):null}),_a=Object(d.c)(function(e){var t=e.settings,a=e.hexDisplay;return null===t||void 0===t?null:r.a.createElement("div",{className:"overview-midi-settings"},r.a.createElement("div",{className:"control-name"},"MIDI"),Object.keys(t).map(function(e){return r.a.createElement(Ta,{key:e,index:e,setting:t[e],hexDisplay:a})}))}),Ba=Object(Sa.a)(Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.history,a=e.presetIndex,n=e.presetName;return r.a.createElement("h3",{onClick:function(){$e.selectPreset(a),$e.selectControl(1),t.push("/preset")},title:"click to edit"},st(parseInt(a,10)),": ",r.a.createElement("span",{className:"bold"},n))})),La=Object(d.c)(function(e){var t=e.index,a=e.data,n=e.hexDisplay,c=e.extControls;return null===a||void 0===a?null:r.a.createElement("div",{className:"overview-preset"},r.a.createElement(Ba,{presetIndex:t,presetName:a.name}),r.a.createElement(Fa,{presetIndex:t,controls:a.controls,hexDisplay:n,extControls:c}),function(e){if(e&&e.midi)for(var t in e.midi){var a=e.midi[t];if(a.hasOwnProperty("msg_type")&&a.msg_type!==pe)return!0}return!1}(a)&&r.a.createElement(_a,{settings:a.midi,hexDisplay:n}))}),Ua=Object(d.c)(function(e){var t=e.presets,a=e.hexDisplay,n=e.extControls;return null===t||void 0===t?null:r.a.createElement("div",{className:"overview-presets"},Object.keys(t).map(function(e){return r.a.createElement(La,{key:e,index:e,data:t[e],hexDisplay:a,extControls:n})}))}),Ga=Object(d.c)(function(e){var t=e.data,a=e.hexDisplay,n=e.extControls;return null===t||void 0===t?null:r.a.createElement("div",{className:"overview"},r.a.createElement(Ua,{presets:t[B],hexDisplay:a,extControls:n}))});a(94);function Za(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Ha=function(e){Object(i.a)(a,e);var t=Za(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.props.state.changed=!0,n.setState({dropZoneActive:!1},function(){n.props.state.readFiles(e)})},n.state={dropZoneActive:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(Ft.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},this.state.dropZoneActive&&r.a.createElement("div",{style:M},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"content"},r.a.createElement(zt,null),r.a.createElement("div",{className:"content-row-content"},r.a.createElement(Ga,{data:this.props.state.data,hexDisplay:!this.props.state.decBase,extControls:this.props.state.extControls})))))}}]),a}(n.Component),Wa=Object(d.b)("state")(Object(d.c)(Ha));function Va(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Ya=function(e){Object(i.a)(a,e);var t=Va(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.state,t=e.busy,a=e.busyMessage,n=e.progress;return t?r.a.createElement("div",{className:"busy"},a,n>=0&&r.a.createElement("span",null," ",n," %")):null}}]),a}(n.Component),za=Object(d.b)("state")(Object(d.c)(Ya));a(96),a(98);function Xa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var Ja=function(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact;return r.a.createElement(et.a,{path:a,exact:n,children:function(e){var n=e.match;return r.a.createElement("div",{className:n?"header-link active":"header-link"},r.a.createElement(tt.a,{to:a},t))}})},Ka=function(){return r.a.createElement("div",{className:"content home"},r.a.createElement("div",{className:"error"},"Invalid URL"))},qa=function(e){Object(i.a)(a,e);var t=Xa(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=Pa.parse(window.location.search),t=!!e.debug&&"1"===e.debug;return r.a.createElement(d.a,{state:$e},r.a.createElement(at.a,null,r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement(Ja,{activeOnlyWhenExact:!0,to:"/",label:"Overview"}),r.a.createElement(Ja,{to:"/preset",label:"Preset Controls"}),r.a.createElement(Ja,{to:"/presetmidi",label:"Preset MIDI"}),r.a.createElement(Ja,{to:"/global",label:"Global"}),r.a.createElement(Ja,{to:"/monitor",label:"Monitor"}),t&&r.a.createElement(Ja,{to:"/dumpdecoder",label:"Dump decoder"}),t&&r.a.createElement(Ja,{to:"/debug",label:"Debug"}),r.a.createElement(Ja,{to:"/help",label:"Help"}),r.a.createElement("div",{className:"spacer"}," "),r.a.createElement("div",{className:"header-app-name"},"Pacer editor ","1.1.0"," by ",r.a.createElement("a",{href:"https://studiocode.dev/",target:"_blank",rel:"noopener noreferrer"},"StudioCode.dev"))),r.a.createElement("div",{className:"subheader row"},r.a.createElement(pa,{only:".*",autoConnect:"Pacer.*"}),r.a.createElement(za,null)),r.a.createElement("div",{className:"main-content-wrapper"},r.a.createElement(nt.a,null,r.a.createElement(et.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(Wa,{debug:t})}}),r.a.createElement(et.a,{path:"/preset",render:function(e){return r.a.createElement(qt,{debug:t})}}),r.a.createElement(et.a,{path:"/presetmidi",render:function(e){return r.a.createElement(wa,{debug:t})}}),r.a.createElement(et.a,{path:"/global",render:function(e){return r.a.createElement(la,{debug:t})}}),r.a.createElement(et.a,{path:"/monitor",render:function(e){return r.a.createElement($t,{debug:t})}}),t&&r.a.createElement(et.a,{path:"/dumpdecoder",render:function(e){return r.a.createElement(Ea,{debug:t})}}),t&&r.a.createElement(et.a,{path:"/debug",render:function(e){return r.a.createElement(yt,{debug:t})}}),r.a.createElement(et.a,{exact:!0,path:"/help",render:function(e){return r.a.createElement(ct,null)}}),r.a.createElement(et.a,{component:Ka}))),r.a.createElement(ea,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qa(){}console.log=Qa,console.warn=Qa,console.error=Qa,l.a.render(r.a.createElement(qa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},37:function(e,t,a){},38:function(e,t,a){},43:function(e,t,a){e.exports=a(100)},51:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){},91:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){},98:function(e,t,a){}},[[43,2,1]]]);
//# sourceMappingURL=main.a1726e34.chunk.js.map